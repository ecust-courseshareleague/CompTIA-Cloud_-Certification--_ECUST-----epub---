<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html><html xmlns:m="http://www.w3.org/1998/Math/MathML" xmlns:svg="http://www.w3.org/2000/svg" xmlns:epub="http://www.idpf.org/2007/ops" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head>
<title>CompTIA Cloud+&#174; Certification Study Guide, Second Edition (Exam CV0-002)</title>
<link rel="stylesheet" type="text/css" href="../Styles/style0001.css"/>
<link rel="stylesheet" type="text/css" media="amzn-mobi" href="XXXXXXXXXXXXXXXX"/>
<link rel="stylesheet" type="text/css" media=" all" href="../Styles/style0002.css"/>
</head><body>
<section epub:type="chapter">
<h2 class="h2p" id="ch5"><span id="page_124" epub:type="pagebreak"></span><span id="page_125" epub:type="pagebreak"></span>Chapter 5</h2>
<h2 class="h2p1">Virtualization Components</h2>
<p class="image"><img src="../Images/image01111.jpeg" width="275" height="204" alt="Images"/></p>
<hr class="hrt1" data-AmznRemoved-M8="true"/>
<p class="title-o"><span class="white">CERTIFICATION OBJECTIVES</span></p>
<hr class="hrt1a" data-AmznRemoved-M8="true"/>
<p class="toc-l"><a href="part0019.xhtml#ch5sec01">5.01&#160;&#160;&#160;&#160;&#160;Hypervisor</a></p>
<p class="toc-l"><a href="part0019.xhtml#ch5sec02">5.02&#160;&#160;&#160;&#160;&#160;Virtualization Host</a></p>
<p class="toc-l"><a href="part0019.xhtml#ch5sec03">5.03&#160;&#160;&#160;&#160;&#160;Virtual Machine</a></p>
<p class="toc-l"><a href="part0019.xhtml#ch5sec04">5.04&#160;&#160;&#160;&#160;&#160;Virtualized Infrastructure Service Elements</a></p>
<p class="toc-lq"><span class="none" data-AmznRemoved-M8="true">&#160;</span><a href="part0019.xhtml#ch5lev159"><img src="../Images/image01112.jpeg" width="22" height="23" alt="Images"/>&#160;&#160;&#160;&#160;&#160;&#160;&#160;Two-Minute Drill</a></p>
<p class="toc-q"><a href="part0019.xhtml#ch5lev160"><strong>Q&#38;A</strong>&#160;&#160;&#160;Self Test</a></p>
<hr class="hrt"/>
<p class="noindent-d"><span class="dropcap">V</span>irtualization technologies have grown substantially over the years. Before that, many major software vendors would not support their applications if they were being run in a virtualized environment. Now virtualization is the standard when it comes to creating an efficient data center, and almost all application vendors support their applications running in a virtualized environment. Virtualization allows a cloud provider to deliver resources on demand to a cloud consumer as needed rather than wasting time or losing opportunities because IT could not keep up with demand. Resource flexibility and scalability are key elements of cloud computing and reasons for its rapid adoption.</p>
<p class="indent"><span id="page_126" epub:type="pagebreak"></span>The IT world has shifted from a one-to-one application-to-hardware model to a many-to-one model. Virtualization uses one physical computer to run multiple virtual servers, each with its own independent operating system and applications. Virtualization has made the IT industry more efficient and results in better utilization of existing computing assets and technology cost savings.</p>
<p class="indent">Virtualization plays a key role in cloud computing by empowering cloud providers to deliver lower-cost hosting environments to cloud consumers. With virtualization, an organization can do more with less physical hardware and can deliver applications to its users faster than ever.</p>
<p class="indent">Virtualization makes the most of physical hardware by running multiple virtual servers on one physical server. This consolidates infrastructure and reduces the total cost of ownership (TCO) by cutting data center space, power consumption, and cooling costs.</p>
<p class="indent">One key piece of software that has allowed the shift to virtualization is the hypervisor. Know this term for the exam. This chapter begins by looking at the various types of hypervisors and how they operate.</p>
<hr class="hr-c" data-AmznRemoved-M8="true"/>
<h5 class="h5o" id="ch5sec01"><span class="white">CERTIFICATION OBJECTIVE 5.01</span></h5>
<hr class="hr-c1" data-AmznRemoved-M8="true"/>
<h3 class="h3-a" id="ch5lev126">Hypervisor</h3>
<p class="noindent">A hypervisor is a piece of software that creates and manages the virtual infrastructure, including virtual switch (vSwitch), virtual CPU (vCPU), virtual memory, virtual disks, and virtual machines.</p>
<p class="indent">The hypervisor is the entity that allows multiple operating systems to run on a single physical machine. The computer running the hypervisor is defined as the &#8220;host&#8221; computer. The virtual machines that are running on the host are called &#8220;guest&#8221; machines. The hypervisor is responsible for managing the guest operating system resources, including memory, CPU, and other resources that the guest operating system might need.</p>
<p class="indent">There are currently two distinct types of hypervisors: type 1 and type 2. Understanding the two types of hypervisors is critical to creating a successful virtualization environment and integrating that environment with the cloud computing models discussed in <a href="part0015.xhtml#ch1">Chapter 1</a>.</p>
<h4 class="h4-a" id="ch5lev127">Type 1</h4>
<p class="noindent">A type 1 hypervisor is one that is created and deployed on a bare metal installation. The first thing installed on a type 1 hypervisor is the hypervisor itself; it acts as the operating system for the bare metal machine.</p>
<p class="indent"><span id="page_127" epub:type="pagebreak"></span>Type 1 hypervisor software communicates directly with the physical server hardware and boots before the operating system (OS). Almost all of the major virtualization distributors, including VMware, Microsoft, Citrix, Oracle, and Red Hat, currently use type 1 hypervisors. <a href="part0019.xhtml#ch5fig1">Figure 5-1</a> shows an example of what a type 1 hypervisor looks like. The image is meant to give you a graphical representation of the layered design, with hardware layer building on top of hardware layer.</p>
<p class="figcap" id="ch5fig1"><span class="figure"><strong>FIGURE 5-1</strong></span>&#160;&#160;&#160;The layered design of a type 1 hypervisor</p>
<p class="imagef"><img src="../Images/image01156.jpeg" width="596" height="371" alt="Images"/></p>
<h4 class="h4-a" id="ch5lev128">Type 2</h4>
<p class="noindent">Unlike a type 1 hypervisor that is loaded on a bare metal server, a type 2 hypervisor is loaded on top of an already existing operating system installation. For example, a system that is running Microsoft Windows 10 might have a VMware workstation installed on top of that operating system.</p>
<p class="indent">Type 2 hypervisors create a layer they must traverse as they are distributed to the guest virtual machines. A type 2 hypervisor relies on the operating system and cannot boot until the operating system is loaded and operational. Since type 2 relies heavily on the underlying operating system, if the system crashes or doesn&#8217;t boot, all of the guest virtual machines are affected. This makes type 2 hypervisors much less efficient than type 1 hypervisors.</p>
<p class="indent">Type 1 hypervisors are the best choice for high performance, scalability, and reliability since they operate directly on top of the host hardware and expose hardware resources to virtual machines. This results in less overhead and less complexity.</p>
<p class="indent">Type 2 hypervisors sit on top of the operating system, making the virtualized environment less scalable and more complex to manage. <a href="part0019.xhtml#ch5fig2">Figure 5-2</a> gives a graphical representation of a type 2 hypervisor. Notice the difference in layering as compared to the type 1 hypervisor.<span id="page_128" epub:type="pagebreak"></span></p>
<p class="figcap" id="ch5fig2"><span class="figure"><strong>FIGURE 5-2</strong></span>&#160;&#160;&#160;Image of a type 2 hypervisor</p>
<p class="imagef"><img src="../Images/image01157.jpeg" width="595" height="435" alt="Images"/></p>
<hr class="hr-si" data-AmznRemoved-M8="true"/>
<div class="side">
<p class="exam"><img src="../Images/image01116.jpeg" width="87" height="45" alt="Images"/></p>
</div>
<div class="side1">
<p class="indent"><strong>The primary difference between a type 1 hypervisor and a type 2 hypervisor is that type 1 is installed natively on the server and boots before the operating system, while type 2 is installed on top of or after the operating system.</strong></p>
</div>
<hr class="hr-si1" data-AmznRemoved-M8="true"/>
<h4 class="h4-a" id="ch5lev129">Proprietary</h4>
<p class="noindent">When a company is choosing which type of hypervisor to use, it needs to understand the difference between a proprietary and an open-source hypervisor. A proprietary hypervisor is one that is developed and licensed under an exclusive legal right of the copyright holder. It is created and distributed under a license agreement to the customer. Hyper-V, vSphere, OVM, and FusionSphere are examples of proprietary hypervisors.</p>
<h4 class="h4-a" id="ch5lev130">Open Source</h4>
<p class="noindent">Some say that the open-source market is growing and advancing faster than the proprietary products market. It can also be argued that the open-source hypervisors are more secure than the proprietary hypervisors because of the underlying operating system running the hypervisor.</p>
<p class="indent"><span id="page_129" epub:type="pagebreak"></span>An open-source hypervisor is provided at no cost and delivers the same basic functionality as a proprietary hypervisor to run multiple guest virtual machines on a single host. Some examples of open-source hypervisors are Citrix Xen, kernel-based virtual machine (KVM), and OpenVZ. However, many differences arise when evaluating advanced feature sets, migration capabilities, performance, scalability, and integration with other virtualization environments.</p>
<p class="indent">Choosing between proprietary and open-source hypervisors can be a difficult decision. Some of the factors that need to be considered are security, the reliability of the manufacturer, and the operating systems that are supported by the hypervisor. Some organizations also choose not to use an open source because their IT staff is not familiar with the interface. For example, an organization may choose to use Microsoft Hyper-V over Citrix Xen because its IT staff is already familiar with the Microsoft product line and will not have as big of a learning curve as it might if the organization were to choose an open-source hypervisor.</p>
<p class="indent"><a href="part0019.xhtml#ch5tab1">Table 5-1</a> shows some of the most popular hypervisors, the companies or groups behind them, and whether they are proprietary or open source. The list is arranged alphabetically.</p>
<p class="tabcap" id="ch5tab1"><span class="table"><strong>TABLE 5-1</strong></span>&#160;&#160;&#160;Popular Hypervisors</p>
<p class="imaget"><img src="../Images/image01158.jpeg" width="677" height="318" alt="Images"/></p>
<h4 class="h4-a" id="ch5lev131">Consumer vs. Enterprise</h4>
<p class="noindent">The difference between enterprise and consumer-level hypervisors is minute in IT today. Many of the current desktop operating systems come with a virtualization option already built in; for example, Microsoft Windows 8 and above come with Hyper-V, allowing desktop-level hardware to run a virtual environment. Similarly, KVM can be added to Linux by pulling down a few packages.</p>
<p class="indent">However, not all hypervisors are the same. When comparing what a consumer would use for a hypervisor to what an enterprise might use, it is important to consider the goals of the user.</p>
<p class="indent"><span id="page_130" epub:type="pagebreak"></span>The enterprise virtualization goal is to host the required virtual servers and their associated data and applications on the least amount of hardware to provide sufficient performance and redundancy. Enterprises want to run many virtual machines on each physical machine, and those virtual machines, running independent operating systems, must support many concurrent users and a variety of applications and workloads. This is the job for a type 1 hypervisor because it is built to handle this type of use case and workload effectively.</p>
<p class="indent">In comparison, the goal of the average consumer is to configure a virtual environment on a desktop or laptop machine that was not designed primarily for the purpose of virtualization. The machine may serve other purposes such as gaming, word processing, or Internet browsing, in addition to functioning as a hypervisor. Consumers are typically not looking to support a large number of users.</p>
<p class="indent">Desktop virtualization is popular for developers who want to test out applications locally without the complexity of managing a dedicated hypervisor, or IT professionals who want to test new operating systems or applications in an isolated environment that is separate from the operating system running their desktop. Linux or Mac users may use virtualization such as KVM or Parallels to run another operating system so that they can run OS-specific applications or games.</p>
<p class="indent">The type 2 hypervisor is more likely to fit the needs of consumers because type 2 hypervisors allow the desktop to continue to run the original operating system and its applications side by side with virtualized operating systems and applications.</p>
<hr class="hr-c" data-AmznRemoved-M8="true"/>
<h5 class="h5o" id="ch5sec02"><span class="white">CERTIFICATION OBJECTIVE 5.02</span></h5>
<hr class="hr-c1" data-AmznRemoved-M8="true"/>
<h3 class="h3-a" id="ch5lev132">Virtualization Host</h3>
<p class="noindent">Now that you understand what a hypervisor is and how it interacts with a computer, you need to understand the virtualization host that runs the hypervisor software. The virtualization host is the system that is installed first and then hosts or contains the guest virtual machines. The host server provides all of the underlying hardware and compute resources for the guest virtual machines, including memory, CPU, hard disk, and network I/O. Since the host machine provides the resources for the guest, it must contain at least enough hardware resources to meet the minimum requirements for its guest virtual machines.</p>
<p class="indent">A virtualization host computer allows different operating systems to coexist on the same host computer. For example, you could have a virtual machine running Microsoft Windows Server 2016 and another virtual machine running your favorite Linux distro. The first step in configuring a virtualization host is to confirm that your system meets the requirements to be a virtualization host. Hardware requirements include BIOS configuration, sufficient memory, CPU, and at least one NIC. <a href="part0019.xhtml#ch5fig3">Figure 5-3</a> shows an example of a virtualization host computer.<span id="page_131" epub:type="pagebreak"></span></p>
<p class="figcap" id="ch5fig3"><span class="figure"><strong>FIGURE 5-3</strong></span>&#160;&#160;&#160;A graphical representation of a virtualization host</p>
<p class="imagef"><img src="../Images/image01159.jpeg" width="480" height="394" alt="Images"/></p>
<h4 class="h4-a" id="ch5lev133">Hardware-Assisted Virtualization</h4>
<p class="noindent">Hardware-assisted virtualization enables efficient full virtualization, which is used to simulate a complete hardware environment or a virtual machine. It is basically software that allows the hardware to provide architectural support for the host computer to support running guest virtual machines. Hardware-assisted virtualization helps make virtualization more efficient by utilizing the hardware capabilities built into the host computer&#8217;s processor. Both AMD and Intel support hardware-assisted virtualization.</p>
<hr class="hr-si" data-AmznRemoved-M8="true"/>
<div class="side">
<p class="exam"><img src="../Images/image01116.jpeg" width="87" height="45" alt="Images"/></p>
</div>
<div class="side1">
<p class="indent"><strong>Hardware-assisted virtualization enables efficient full virtualization using the hardware capabilities of the host computer.</strong></p>
</div>
<hr class="hr-si1" data-AmznRemoved-M8="true"/>
<p class="indent">If an organization wants to find out whether its hardware supports hardware-assisted virtualization, a good place to start is with the AMD and Intel websites. Both websites have a list of all the processors that support hardware-assisted virtualization. It should also be noted that all processors manufactured after 2003 have hardware-assisted virtualization built in. Some laptops were slow to allow access to it, but it was there.</p>
<p class="indent">If an organization has already purchased the hardware or wants to repurpose older hardware as a virtualization host, it can download and run free software tools that will check to see if its hardware supports hardware-assisted virtualization. For example, if a company is trying to use an older server as a virtualization host to run Microsoft Hyper-V, Microsoft has a free software tool that can determine if that server supports hardware-assisted virtualization and Microsoft Hyper-V.<span id="page_132" epub:type="pagebreak"></span></p>
<h4 class="h4-a" id="ch5lev134">BIOS</h4>
<p class="noindent">The Basic Input/Output System (BIOS) is software residing on a ROM chip or a flash memory chip that was installed from the manufacturer. The system mainboard or motherboard has a system BIOS, and some advanced components such as RAID controllers and HBAs have their own BIOS as well.</p>
<p class="indent">The system BIOS determines which features a computer supports without having to access any additional software that is loaded on the computer. For example, the system BIOS can contain the software that is needed to control the keyboard, the display settings, disk drives, USB settings, power options, and multiple other options. The system BIOS allows a computer to boot itself and is available even if the hard disks in the computer fail or are corrupted because it is self-contained on the chip.</p>
<p class="indent">So what does the BIOS have to do with virtualization? The system BIOS plays a key role when enabling virtualization on a host computer. In order for a modern computer to act as a host and have the ability to host guest virtual machines, modern operating systems rely on the system BIOS to support hardware-assisted virtualization. Some older computers do not have this feature available in the system BIOS. Other computers might need a firmware update for the system BIOS before the feature can be enabled. However, most of the newer servers from mainstream manufacturers, including the latest desktop computers, support this feature.</p>
<p class="indent">With the advancement in virtualization and desktop computers, it is no longer a requirement to have a host machine running server-class hardware. Much of the desktop hardware now natively supports hardware-assisted virtualization.</p>
<p class="indent">A BIOS has several limitations that necessitated its eventual replacement with UEFI, discussed next. A BIOS is limited to 16-bit processing and 1MB of addressable memory. The BIOS can only boot to drives that are 2.1TB or less due to limitations in the Master Boot Record (MBR).</p>
<h4 class="h4-a" id="ch5lev135">UEFI</h4>
<p class="noindent">The Unified Extensible Firmware Interface (UEFI) is a replacement for BIOS that was introduced in 2007. UEFI is supported on Windows Vista SP1 and newer Windows operating systems as well as most Linux versions, including Ubuntu, Fedora, Red Hat Enterprise, CentOS, and openSUSE.</p>
<p class="indent">UEFI addresses the limitations in BIOS by allowing both 32-bit and 64-bit processing, which can significantly improve system boot times. It also allows for more than 1MB of addressable memory and drives larger than 2.1TB with support for GUID Partition Table (GPT) instead of MBR. UEFI also supports secure boot, a technology that performs OS integrity checking. This helps prevent root kits from starting up a modified version of the OS.<span id="page_133" epub:type="pagebreak"></span></p>
<hr class="hr-si" data-AmznRemoved-M8="true"/>
<div class="side">
<p class="exam"><img src="../Images/image01116.jpeg" width="87" height="45" alt="Images"/></p>
</div>
<div class="side1">
<p class="indent"><strong>UEFI can emulate BIOS for boot disks and other media if necessary.</strong></p>
</div>
<hr class="hr-si1" data-AmznRemoved-M8="true"/>
<h4 class="h4-a" id="ch5lev136">Firmware Configurations</h4>
<p class="noindent">Firmware is a set of instructions that is programmed for a specific hardware device. Firmware tells the hardware device how to communicate with the computer system. Firmware upgrades can be performed on a number of devices, including motherboards, network cards, and hard drives. Firmware upgrades are generally carried out so that the hardware can support new features and functionality. For example, you might do a firmware upgrade on a network card so that the card is supported in a new operating system.</p>
<p class="indent">In some cases, it might be necessary to do a firmware upgrade to a computer&#8217;s BIOS in order for it to support hardware-assisted virtualization. This would generally be done on older hardware, as most new hardware purchased today already supports hardware-assisted virtualization. Motherboard manufacturers place firmware updates and the software needed to update the BIOS firmware on their websites for customers to download.</p>
<p class="text-icon"><img src="../Images/image01119.jpeg" width="58" height="40" alt="Images"/></p>
<p class="text-icon1"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;</span>Recently we were brought in to help a small company set up their virtualized environment. They did not budget for new server hardware to host the virtualization environment, and they brought us in to see if the current hardware would support virtualization. We checked the manufacturer&#8217;s web page and found out the hardware would support virtualization but needed a firmware upgrade before hardware-assisted virtualization could be enabled.</p>
<h4 class="h4-a" id="ch5lev137">CPU and Cores</h4>
<p class="noindent">Now that you understand the prerequisites to creating a host machine, you need to understand how to properly size a host machine. Host machines may be physical servers located in an organization&#8217;s data center, or they could be cloud hypervisors that the organization rents from a cloud vendor. Making sure that the host machine can support at least the minimum number of guest virtual machines that the organization is trying to run is a critical step in creating a successful virtualization environment.</p>
<p class="indent">One of the many benefits of virtualization is the ability to provision virtual machines on the fly as the organization&#8217;s demands grow, making the purchase of additional hardware unnecessary. If the host computer is not sized correctly, however, it is not possible to add virtual machines without adding compute resources to the host computer or purchasing additional resources from a cloud vendor.</p>
<p class="indent">The first step to sizing the host machine is purchasing the correct type and number of CPUs. Both AMD (AMD-V) and Intel (Intel VT) support virtualization, so the manufacturer is not as critical as is the number of CPU cores and the speed of the CPUs. A multicore processor is a single physical CPU with two or more independent CPUs called cores.</p>
<p class="indent">As a general virtualization rule, more cores is better than higher-speed processors. It is better to invest in more cores with more cache rather than faster CPU speed. For example, if a company has to choose between a system with two 6-core processors running at 2.2 GHz or a system with two 4-core processors running at 3.3 GHz, the system with two 6-core processors is the better choice. This is because with virtualization the company can spread the virtual machine load across more CPU cores, which translates into faster and more consistent virtual <span id="page_134" epub:type="pagebreak"></span>machine performance. Also, if you do the math, two 6-core processors is 12 cores running at 2.6 GHz, equaling 31.2 GHz of total processing power, while two 4-core processors is 8 cores running at 3.2 GHz, equaling 26.4 GHz. However, even if the math were in favor of the higher speed over cores, the best choice is still additional cores.</p>
<p class="indent">Once the organization has defined the processor for the host computer, it needs to evaluate how to assign those CPU resources to the guest virtual machines. Not surprisingly, virtual machines use virtual CPUs (vCPUs), which can be added to a virtual machine when it is created. The number of vCPUs that the company should add is dependent on a number of factors, but it is possible to assign multiple vCPUs to a single virtual machine.</p>
<hr class="hr-si" data-AmznRemoved-M8="true"/>
<div class="side">
<p class="exam"><img src="../Images/image01116.jpeg" width="87" height="45" alt="Images"/></p>
</div>
<div class="side1">
<p class="indent"><strong>Some products are licensed based on the number of CPUs, cores, or vCPUs. It is important to know how many CPUs you are licensed for when assigning resources so that you do not violate your license or cause a program to fail activation checks.</strong></p>
</div>
<hr class="hr-si1" data-AmznRemoved-M8="true"/>
<h4 class="h4">Hyperthreading</h4>
<p class="noindent">Hyperthreading is a technology that creates two logical CPU cores for each physical CPU core that supports hyperthreading. Hyperthreading is a proprietary technology for Intel CPUs. It was introduced in 2002 with the Xeon server and Pentium 4 desktop processors. Hyperthreading requires operating system support for symmetric multiprocessing (SMP), a feature which all current operating systems support.</p>
<p class="indent">Hyperthreading increases the ability of the system to run parallel processes, but whether performance increases using hyperthreading depends upon the application&#8217;s ability to execute multiple steps on processors in parallel. Hyperthreading is not the same as having multiple cores in a CPU, because hyperthreading shares the CPU&#8217;s pipeline, cache, and system bus interface instead of dedicating cache and interfaces to distinct cores.</p>
<p class="indent">Hyperthreading is very useful in virtualization, allowing for higher overcommitment ratios of vCPUs to physical CPUs, discussed later in this chapter. Hypervisors with few processor cores will see the greatest advantage from hyperthreading because they are likely running out of available processors to allocate to virtual machines.</p>
<h4 class="h4">VT-x</h4>
<p class="noindent">VT-x is a set of instructions performing virtualization functions that is built into the CPU. VT-x decreases the complexity of hypervisors that run on top of supported VT-x hardware, and it is a requirement of most modern hypervisors. VT-x also improves the speed of hypervisor functions because they can be performed in hardware rather than software.</p>
<h4 class="h4">Overcommitment Ratio</h4>
<p class="noindent">It is possible to assign more vCPUs to virtual machines than available physical CPU cores in the hypervisor in a process known as oversubscription or overcommitment. However, assigning <span id="page_135" epub:type="pagebreak"></span>more vCPUs than CPU cores must be done with care. Before undertaking such a move, the company should evaluate the workload of all the virtual machines on the server and whether or not that workload is processor intensive.</p>
<p class="indent">Virtual machines often require more CPU when starting up or when loading processes for the first time. CPU usage often then decreases significantly with occasional increases due to utilization. Overcommitment can allow the hypervisor to host more virtual machines than otherwise possible and to make better use of the available processors. The hypervisor manages CPU requests, providing each virtual machine with the CPU resources it needs up to its max.</p>
<hr class="hr-si" data-AmznRemoved-M8="true"/>
<div class="side">
<p class="exam"><img src="../Images/image01116.jpeg" width="87" height="45" alt="Images"/></p>
</div>
<div class="side1">
<p class="indent"><strong>Hypervisors can be configured to start virtual machines with a delay so that they do not all start at the same time or resume from a saved state at the same time.</strong></p>
</div>
<hr class="hr-si1" data-AmznRemoved-M8="true"/>
<p class="indent">However, overcommitment can result in contention for CPU resources when multiple machines attempt to utilize all their vCPUs at the same time. This results in reduced performance for the virtual machines and the applications that run on them. For this reason, it is important to understand what a reasonable overcommitment ratio is.</p>
<p class="indent">It is generally safe to maintain an overcommitment ratio of 3:1, with three vCPUs for each physical CPU, so a server with four physical CPU cores could assign up to 12 vCPUs. You may be able to increase this, especially for hosts that have a large number of rarely used virtual machines. Monitor resources closely when using an overcommitment ratio of 4:1 to 6:1 because it is easy to produce a situation where virtual machiness are waiting for available CPU.</p>
<p class="indent">Most of the time it is unsafe to assign more than six vCPUs for every CPU core on the server. However, this number may vary based on virtual machine vCPU utilization, so evaluating the environment and the goal of that environment is key.</p>
<p class="indent">Another important consideration is that you should not allocate more vCPUs to an individual virtual machine than you have physical cores in the hypervisor. This is because the virtual machine may try to use all assigned vCPUs, and if it tries to use more cores than are available at once, some processes that were meant to be in parallel will be serialized because there will never be enough CPUs available to satisfy the demand. This will result in less than ideal performance. For example, if a hypervisor has four CPUs with four cores each, it has 16 cores. Assign no more than 16 cores to an individual virtual machine on the host even if your overcommitment ratio is below the recommended 3:1 ratio.</p>
<p class="indent">It is best to allocate one vCPU to a machine and then monitor performance, adding additional vCPUs as needed. When a virtual machine attempts to use a vCPU, the hypervisor must wait for the physical CPU associated with that vCPU to become available. The virtual machine believes that vCPU to be idle and will attempt to spread the load around if the application is configured for multiprocessing, but this can have an adverse impact on virtual machine performance if the physical CPU has a large number of processes in the queue. Furthermore, even idle processors place some load on the hypervisor from host management processes, so it is best to not provision more than will be necessary.</p>
<p class="indent"><span id="page_136" epub:type="pagebreak"></span>Monitor hypervisor metrics to determine if overcommitment bottlenecks are occurring. The most important metric to watch is the CPU ready metric. CPU ready measures the amount of time a virtual machine has to wait for physical CPU to become available. It is also important to monitor CPU utilization within each virtual machine and on the host. High CPU utilization might indicate the need for additional vCPUs to spread the load, while high host CPU utilization could indicate whether virtual machines are properly balanced across hosts. If one host has high CPU utilization and others have available resources, it may be best to move one or more virtual machines to another host to relieve the burden on the overtaxed host. Host resources could also be expanded for physical hosts or requested for those provisioned in the cloud.</p>
<p class="indent">For example, a heavily used Microsoft SQL server is going to be a very processor-intensive virtual machine, so in that scenario, an organization would want a one-to-one CPU-to-vCPU assignment. VMware, Hyper-V, and Citrix all have calculators available to help determine exactly how to distribute vCPUs based on best practices for that particular virtualization product. <a href="part0019.xhtml#ch5tab2">Table 5-2</a> displays the maximum number of logical CPUs and virtual CPUs for some of the virtualization products currently available.</p>
<p class="tabcap" id="ch5tab2"><span class="table"><strong>TABLE 5-2</strong></span>&#160;&#160;&#160;Virtualization Host Maximum Resources</p>
<p class="imaget"><img src="../Images/image01160.jpeg" width="902" height="202" alt="Images"/></p>
<p class="text-icon"><img src="../Images/image01119.jpeg" width="58" height="40" alt="Images"/></p>
<p class="text-icon1"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;</span>A server administrator was preparing to apply patches to a large number of machines. He had experienced issues with patches crashing machines before, so he decided to take a snapshot of the machines before applying patches to them. However, he tried to create 20 snapshots at once, and the host ground to a halt. Hypervisor management functions became unavailable and then suddenly the machines became unavailable. Another administrator saw his session lock up and then he could not log in with remote administration tools, so he restarted the hypervisor, causing the machines to fail over to another cluster node. However, since a snapshot was in progress, the machines failed over in an inconsistent state. Be careful about host processes that are CPU intensive such as snapshotting. Taking a snapshot of many machines at the same time can put a strain on the host&#8217;s CPU resources. Ensure that the host has been configured with a CPU reserve and a max CPU setting so that it does not utilize the resources allocated to virtual machines and vice versa.<span id="page_137" epub:type="pagebreak"></span></p>
<h4 class="h4-a" id="ch5lev138">Memory Capacity and Configurations</h4>
<p class="noindent">Once the organization has decided which CPU and how many CPU cores they are going to purchase for the virtualization host, the next step is to plan the amount of random-access memory (RAM) that the host machine will need. Planning the amount of memory needed on a host machine is quite different from planning the number of CPUs. Planning for memory is critical. The more RAM and the faster the RAM speed, the better for a virtualization host.</p>
<p class="indent">Hypervisors have a virtual allocation table (VAT) that uses methods such as nested page tables or shadow page to map virtual memory to that of the host. Some virtualization platforms allow for adjusting virtual machine memory on the fly, essentially allowing one virtual machine to borrow memory from another virtual machine without shutting down the system. Each of the virtualization products supports virtual machine memory allocation a little bit differently, but the one thing that is consistent is that more memory on the host machine is always better. The job of the IT administrator is to maximize the cost savings of virtualization and the value it brings to the organization.</p>
<p class="indent">Careful planning is required to provide enough memory on the host machine to dynamically provision virtual machines as the organization&#8217;s needs grow and at the same time to make the most cost-efficient choices. <a href="part0019.xhtml#ch5tab2">Table 5-2</a>, shown earlier, includes the maximum amount of memory that is allowed on a host machine for some of the virtualization products currently available.</p>
<h4 class="h4">Memory Ballooning</h4>
<p class="noindent">Virtual machines often require more memory when starting up or when loading processes for the first time. Memory usage often then decreases significantly, with occasional increases due to utilization. However, when overcommitment ratios are high, there might not be enough memory available to start new machines.</p>
<p class="indent">Memory ballooning comes into play when there are not enough resources available to handle new memory requests from virtual machines. Ballooning requests memory resources from other virtual machines. These virtual machines decide which processes they can swap out to free up space, and then they loan those memory pages to the hypervisor. The hypervisor places all the memory pages loaned to it into a balloon that is temporarily allocated to a machine that urgently needs it.</p>
<p class="indent">The beauty of ballooning is that the hypervisor does not need to seize the memory and the virtual machine can make an intelligent decision about which memory to swap out to have the least impact on the virtual machine. The ballooning process runs as a normal Windows process. As it requests memory, Windows allocates pages to it as it would any other process, and the hypervisor then takes those pages and makes them available to others. The virtual machine believes the memory is in use by the ballooning process until the ballooning process releases it back to the virtual machine.</p>
<h4 class="h4"><span id="page_138" epub:type="pagebreak"></span>Memory Bursting</h4>
<p class="noindent">Virtual machines can be configured with a minimum and a maximum memory size in a technique known as dynamic memory. The machine can request up to the max amount of memory, and the hypervisor will allocate pages to the virtual machine. The burst memory is the maximum amount of memory that the virtual machine can utilize. When configuring burst values, consider how much the machine will use at peak levels and then add a buffer to that value for the burst/max memory.</p>
<hr class="hr-si" data-AmznRemoved-M8="true"/>
<div class="side">
<p class="exam"><img src="../Images/image01116.jpeg" width="87" height="45" alt="Images"/></p>
</div>
<div class="side1">
<p class="indent"><strong>Once a virtual machine bursts, it may keep the additional memory for some time even after actual utilization has dropped back to normal levels. It does not release the memory back immediately.</strong></p>
</div>
<hr class="hr-si1" data-AmznRemoved-M8="true"/>
<h4 class="h4">Transparent Page Sharing</h4>
<p class="noindent">Transparent page sharing is a technology that deduplicates hypervisor memory allocated to virtual machines. Several virtual machines may load the same data into memory, especially when running the same application. In virtual desktop infrastructure (VDI), this is even more prevalent with users commonly running office productivity, web browsing, and other apps on their virtual desktops. Operating systems also load many processes into memory that may be deduplicated.</p>
<p class="indent">Transparent page sharing maps pages that are fixed blocks of memory. When it finds a duplicate, the memory references for the pages assigned to virtual machines are mapped to a single page on the hypervisor so that only one copy is retained.</p>
<h4 class="h4">Memory Compression</h4>
<p class="noindent">When memory is entirely consumed, operating systems are configured to dump data from memory into a page file. The page file is located on disk and is much slower to access than memory. Hypervisors can be configured to compress memory when available memory is low rather than page that memory. This consumes CPU resources to perform the compression and decompression, but it reduces memory read and write I/O since the data does not have to be read from disk.</p>
<h4 class="h4">Overcommitment Ratio</h4>
<p class="noindent">Virtual machines can be configured with a minimum and a maximum memory size. The machine can request up to the max amount of memory, and the hypervisor will allocate pages to the virtual machine. When the memory is not needed anymore, the hypervisor reclaims it for use on other virtual machines. In this way, the total maximum amount of <span id="page_139" epub:type="pagebreak"></span>memory configured for virtual machines can exceed the available physical memory in what is known as memory overcommitment. This works as long as the actual consumption remains lower than physical memory. Other technologies such as memory compression and transparent page sharing can further reduce memory consumption, allowing for more overcommitment.</p>
<p class="indent">Overcommitment can allow the hypervisor to host more virtual machines than otherwise possible and to make better use of the available memory. However, overcommitment ratios are much lower for memory than they are for CPU.</p>
<p class="indent">It is generally safe to maintain an overcommitment ratio of 1.25:1, with 125 percent of physical memory allocated to virtual machines, so a server with 256GB of memory could assign up to 320GB to virtual machines. You may be able to increase this comfortably to 1.5:1, in particular for hosts that have a significant number of similar virtual machines, as transparent page sharing will reduce actual memory consumption. A 1.5:1 overcommitment ratio would allow for 384GB of memory to be allocated to virtual machines in a host that has 256GB of physical memory. Monitor resources closely when using an overcommitment ratio higher than 1.25:1 because it is easy to produce a situation where virtual machines consume all available physical memory and the host is forced to page memory to disk.</p>
<p class="indent">Most of the time it is unsafe to operate at an overcommitment rate above 1.5:1. Be extremely careful if you operate at this level and ensure that memory metrics are configured with alerts so that administrators are aware when memory thresholds are reached. Set alerting thresholds below the level where paging will occur to avoid performance issues, and adjust virtual machine memory settings accordingly.</p>
<h4 class="h4-a" id="ch5lev139">NIC</h4>
<p class="noindent">While choosing CPU and memory is a primary component when planning the hardware for a virtualization host, choosing the type of network cards to use is just as important. Choosing the correct network configuration and type of card is critical to the success of a virtual environment. Network latency can diminish the speed of a virtual environment, so the organization needs to carefully plan which features its network cards on the host computer need to support.</p>
<p class="indent">The first step when planning the NICs for the host computer is to understand the physical aspects of the network. Server-class NICs provide the best possible network performance for virtualization. It is also necessary to verify that the infrastructure between the source and destination NICs does not introduce a bottleneck. For example, if the organization is using a 10 Gbps NIC to connect to a 10 Gbps port on a switch, it must make sure that all the patch cables support 10 Gbps speeds and that the switch is configured to use 10 Gbps and is not hard coded to use 1 Gbps speeds. The network can only be as fast as the slowest link, so having a misconfigured switch or a bad cable can cause a bottleneck and result in slower performance.</p>
<p class="indent">There are some other key features to consider when purchasing NICs for the virtualization host computer. <a href="part0019.xhtml#ch5tab3">Table 5-3</a> lists those features and gives a brief description of each.<span id="page_140" epub:type="pagebreak"></span></p>
<p class="tabcap" id="ch5tab3"><span class="table"><strong>TABLE 5-3</strong></span>&#160;&#160;&#160;NIC Hardware Features</p>
<p class="imaget"><img src="../Images/image01161.jpeg" width="901" height="334" alt="Images"/></p>
<hr class="hr-c" data-AmznRemoved-M8="true"/>
<h5 class="h5o" id="ch5sec03"><span class="white">CERTIFICATION OBJECTIVE 5.03</span></h5>
<hr class="hr-c1" data-AmznRemoved-M8="true"/>
<h3 class="h3-a" id="ch5lev140">Virtual Machine</h3>
<p class="noindent">After the virtualization host computer has been carefully planned and designed, it is ready to support guest virtual machines. However, there is just as much planning, if not more, that needs to go into configuring the virtual machines. With virtualization comes the ability to maximize the physical server and no longer have &#8220;unused&#8221; resources. While this is a huge advantage and cost savings to an organization, it also requires more planning than the one-to-one way of thinking before virtualization.</p>
<p class="indent">Before virtualization, IT administrators were confined to the physical resources that were available on the server running a particular application. With virtualization, an IT administrator now can add compute resources to a virtual machine without having to purchase additional hardware, as long as the virtualization host computer has been designed with this in mind.</p>
<p class="indent">The concept of a virtual machine is sometimes difficult to grasp. Think of a virtual machine in the same way you think of a physical server hosting an application. A virtual machine emulates a physical computer, with the only difference being that its resources are managed by a hypervisor that translates resource requests to the underlying physical hardware. You can think of a virtual machine as a portable file that can be moved, copied, and reassigned to a different virtualization host with minimal administration.</p>
<p class="indent">Virtualization separates the physical hardware from the virtual hardware running on a virtual machine, so virtual machines can be moved to another hardware platform easily. <span id="page_141" epub:type="pagebreak"></span>Physical servers are typically on a refresh cycle of several years. Every few years IT would have to build a new server and configure the applications, then migrate software. With virtualization, the underlying hardware can be upgraded while the virtual machines stay the same. This reduces the IT maintenance burden.</p>
<p class="indent">With full virtualization, guest operating systems are unaware that they are running in a virtual environment as opposed to paravirtualization, a virtualization method that presents a more customized virtual interface to host system hardware. Applications and software can be installed on a virtual machine as if it were a physical server. Isolation of applications is just one of the many advantages of running a virtual environment. Applications can be installed on separate virtual machines, which provides complete isolation from other applications running on the host computer or another virtual machine. This is a great way to test new applications without interfering with existing applications or to create a development environment that is completely segmented from the production environment.</p>
<p class="indent">Virtualization is used for both servers and desktops. Organizations will virtualize desktops so that end users can log into their desktop remotely. Desktops are maintained centrally in a cloud or data center environment where they can be more effectively managed and secured. Desktop virtualization is known as virtual desktop infrastructure (VDI).</p>
<p class="indent">The remainder of this section explains the compute resources that make up a virtual machine and how to manage and plan for those resources in a virtual environment.</p>
<h4 class="h4-a" id="ch5lev141">Virtual Disks</h4>
<p class="noindent">Just like a physical server, a virtual machine needs to have a place to install an operating system and applications and to store files and folders. Simply put, a virtual disk is a file that represents a physical disk drive to the virtual machine. VMware virtual machine disks (VMDKs) have an extension of .vmdk, while Hyper-V virtual hard disks (VHD) have an extension of .vhdx.</p>
<p class="indent">A virtual disk file resides on the host computer and is accessed by the guest virtual machine. It contains the same properties and features of a physical drive, including disk partitions, a file system, and files and folders.</p>
<p class="indent">When creating a virtual disk, you need to make a few decisions, including the type of disk, the name and location of the disk, and the size of the disk. Each of the major virtualization manufacturers uses different terminology to describe virtual disk configurations. For example, if you are using Microsoft Hyper-V, you would have the options of making a dynamically expanding virtual disk, a fixed virtual disk, or a differencing virtual disk. If you are creating a fixed-size disk, you would specify the size of the disk when it is created. If you are creating a dynamically expanding virtual disk, the disk starts as a small size and adds storage as needed.</p>
<p class="indent">Differencing virtual disks are used in parent&#8211;child virtual disks where a parent virtual disk holds files that are inherited by its children. For example, five Windows 10 machines could all share a parent virtual disk for the operating system, while user profile directories and applications would reside on the child disks. This results in lower disk consumption and easier updating.</p>
<p class="indent"><span id="page_142" epub:type="pagebreak"></span>On the other hand, if you are creating a virtual disk in VMware ESXi, you have the option of creating a thick disk or a thin disk. A thick disk is similar to a fixed disk in Microsoft Hyper-V in that the size is specified and allocated during the creation of the virtual disk. A thin disk is similar to a dynamically expanding disk in Microsoft Hyper-V in that the disk starts out small and adds space as required by the virtual machine.</p>
<p class="indent">While the different virtualization manufacturers use different terms to define their virtual disks, the concepts are similar. Whether you are using Hyper-V, ESXi, or XenServer, you still need to decide which type of disk to use for which application. If you are concerned about disk space, then using a thin disk or dynamically expanding disk would be the best option. If size is not a concern, then you could use a fixed-size or thick disk.</p>
<p class="indent">Virtual disks also use instruction sets and queueing techniques just like physical disks, and virtual disks must be created using a specific virtual disk interface such as IDE or SCSI. Some virtual machine types can only boot off a virtual IDE drive, while others, such as those requiring secure boot, require a SCSI boot drive. <a href="part0019.xhtml#ch5tab4">Table 5-4</a> shows the maximum number of virtual IDE and SCSI disks that are available for various types of virtual machines. Please note that XenServer does not emulate SCSI or IDE and uses a unique disk format with a maximum of 16 disks.</p>
<p class="tabcap" id="ch5tab4"><span class="table"><strong>TABLE 5-4</strong></span>&#160;&#160;&#160;Virtual Machine Limits</p>
<p class="imaget"><img src="../Images/image01162.jpeg" width="902" height="227" alt="Images"/></p>
<h4 class="h4-a" id="ch5lev142">vNIC</h4>
<p class="noindent">Configuring and planning the virtual network interface cards is just as important as planning the virtual disk configuration. The network interface card in a computer is what allows a physical computer to interact with other virtual machines and devices on the network. Likewise, a virtual NIC (vNIC) is associated with a physical NIC and allows a virtual machine to communicate on the network. Proper configuration of the vNIC and network settings is a key component to minimizing bottlenecks in the virtual environment.</p>
<p class="indent">A vNIC does not have any physical components; it is a software component made up of software drivers that mimic a physical NIC. A vNIC allows an organization to change some of the properties of the vNIC, including MAC address settings, network connections, <span id="page_143" epub:type="pagebreak"></span>and VLAN ID. This allows for greater control over the vNIC from within the hypervisor software. Once the settings are configured, and the vNIC is installed on the virtual machine, it functions almost like a physical NIC installed on a physical server.</p>
<p class="indent">After attaching a vNIC to a virtual machine, you can add the vNIC to a virtual network. A virtual network is a group of network devices that are configured to access local or external network resources and consists of virtual network links. In effect, a virtual network is a network where traffic between the virtual servers is routed using virtual switches (vSwitches) and virtual routers.</p>
<p class="indent">A virtual router is a software-based router that allows a virtualization host to act as a hardware router over the network. This is required if you wish to enable inter-VLAN communication without a hardware router. A virtual network allows the virtual machine to interact with the rest of the LAN.</p>
<p class="indent">In addition to configuring a vSwitch, you may configure bridged networking, which allows the virtual machine to communicate with the outside world using the physical NIC so it can appear as a normal host to the rest of the network.</p>
<p class="indent">You need to consider some options when configuring a virtual machine to communicate with the rest of the LAN. Sometimes an organization may want to prevent a virtual machine from communicating with devices on the LAN, in which case you can isolate the virtual machine on a private network so that it can communicate only with other virtual machines on the same host. Virtual machine isolation with a private network is a common procedure when setting up a test lab from cloned virtual machines. The cloned machines would conflict with existing production machines if they could talk on the network, so they are isolated so that they can only talk among themselves on a private network. Also, clustered virtual machines use private networks for heartbeat connections.</p>
<p class="indent">In a different scenario, an organization might want to bridge the connection between its virtual machine and the LAN used by the host computer so that the virtual machine can communicate with devices that are external to the host computer. Determining how the vNIC and virtual machine use virtual networks is an important piece of virtualization. Remember, one of the many benefits of virtualization is the ability to isolate applications for testing and deployment, but that is only possible if the virtual network and vNIC are configured properly.</p>
<p class="indent">After the virtual machine&#8217;s operating system recognizes and installs the vNIC, it can be configured just like a physical NIC. It is possible to set the IP address, the DNS, the default gateway, subnet mask, the link speed, and so on. The actual network configuration of the vNIC is identical to that of a physical network adapter. So the virtual machine connects to the network in the same manner that a physical machine would that has the same IP address and subnet mask configuration. A virtual machine can be configured to use one or more virtual Ethernet adapters, allowing each adapter to have its own MAC and IP address. <a href="part0019.xhtml#ch5tab4">Table 5-4</a>, shown earlier, includes the maximum number of vNICs that are available on various types of virtual machines.<span id="page_144" epub:type="pagebreak"></span></p>
<h4 class="h4-a" id="ch5lev143">Virtual Switches</h4>
<p class="noindent">Once the organization has created and added a vNIC to its virtual machine, the next step in the process is to assign a vSwitch to the machine so that it can communicate with other network devices. Similar to a physical switch, a vSwitch makes it possible to connect other network devices together.</p>
<p class="indent">A vSwitch controls how the network traffic flows between the virtual machines and the host computer as well as how network traffic flows between the virtual machine and other network devices in the organization. Virtual switches also allow the organization to isolate network traffic to its virtual machines. A vSwitch can provide some of the same security features that a physical switch provides, including policy enforcement, isolation, traffic shaping, and simplified troubleshooting.</p>
<p class="indent">A vSwitch can support VLANs and is compatible with standard VLAN implementations. However, a vSwitch cannot be attached to another vSwitch; instead, more ports can be added to the existing switch.</p>
<hr class="hr-si" data-AmznRemoved-M8="true"/>
<div class="side">
<p class="exam"><img src="../Images/image01116.jpeg" width="87" height="45" alt="Images"/></p>
</div>
<div class="side1">
<p class="indent"><strong>You need to understand how to configure a vSwitch so that a virtual machine can communicate with the correct network devices.</strong></p>
</div>
<hr class="hr-si1" data-AmznRemoved-M8="true"/>
<p class="indent">An organization can create different types of vSwitches to control network connectivity to a virtual machine. An external vSwitch allows the virtual machine to communicate with other virtual machines on the same host and with other network devices located outside the host computer. An internal vSwitch allows the virtual machines and the host to communicate with each other, but the virtual machine is unable to communicate with network devices located outside the host computer.</p>
<p class="indent">Planning the vSwitch configuration is extremely important to an organization&#8217;s virtualization design. It is equally important for the organization to make sure the vSwitch that the virtual machine uses to communicate is configured correctly. Proper design of the vSwitch environment is critical to the virtual machine being able to communicate to the correct part of the network.</p>
<h4 class="h4-a" id="ch5lev144">Memory</h4>
<p class="noindent">Managing memory on a virtual machine is different than managing memory on a physical server. When dealing with a physical server, an organization has to decide at the time of purchase how much memory that server needs to have. When building or deploying a virtual machine, the organization can change the memory on the fly as needed. Also, a virtual machine only consumes memory if that virtual machine is running, so memory can be freed up by shutting down less important virtual machines, if necessary.</p>
<p class="indent"><span id="page_145" epub:type="pagebreak"></span>Managing virtual machine memory is easier and allows the organization to maximize its resources for that virtual machine. It can set the initial size of the virtual machine&#8217;s memory and change that setting after the virtual machine has been created and is operational. For example, the organization may have a virtual machine running file and print services and may be uncertain what the memory requirements ultimately will be. In this instance, it can configure a low amount of memory to start and then monitor the virtual machine to determine its memory utilization. If the virtual machine reaches 90 or 100 percent utilization, the organization can easily increase the amount of memory without having to purchase additional hardware.</p>
<p class="indent">Keep in mind, however, that increasing virtual machine memory is only possible if there is additional memory available on the virtualization host computer. The host computer must also have enough physical memory available to start the virtual machine; if there is not enough available physical memory, the virtual machine will not be allowed to start. Earlier in this chapter, you learned how to plan memory allocation on the virtualization host; now you can see why planning the host computer resources is so important.</p>
<p class="indent">There are three things that you should consider when provisioning a virtual machine and assigning memory to it:</p>
<p class="bullt"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;</span><img class="inline" src="../Images/image01088.jpeg" width="14" height="14" alt="Images"/>&#160;&#160;&#160;<strong>Operating system requirements</strong>&#160;&#160;&#160;Ensure that the amount of memory meets the minimum recommendations for the operating system that the virtual machine is going to be running.</p>
<p class="bull"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;</span><img class="inline" src="../Images/image01088.jpeg" width="14" height="14" alt="Images"/>&#160;&#160;&#160;<strong>Application requirements</strong>&#160;&#160;&#160;Consider the applications the virtual machine will be running. If a particular application requires a lot of memory on a physical server, it might need a similar setup on a virtual machine.</p>
<p class="bullb"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;</span><img class="inline" src="../Images/image01088.jpeg" width="14" height="14" alt="Images"/>&#160;&#160;&#160;<strong>Virtual machine neighbors</strong>&#160;&#160;&#160;Consider what other virtual machines are running on the host computer that will be competing with this virtual machine for memory resources and whether other applications are going to be running on the host computer that might need resources as well.</p>
<p class="indent">Resource contention should not be a major factor on a type 1 hypervisor since best practice is not to run any additional software on the host computer. However, if there are additional applications running on the host computer besides the hypervisor, you should consider that when planning memory size on a virtual machine. On a type 2 hypervisor, other applications would be running on the host computer and would require memory, so those applications would need to be factored in when determining memory size for the virtual machine.</p>
<p class="indent">Memory can be assigned to a virtual machine in a couple of ways. One option is to configure a static amount of memory that is assigned to the virtual machine at all times. Static memory is a predefined amount of memory that is allocated to the virtual machine. If an organization uses this setting for all the virtual machines on a host computer, then the host computer must have at least enough physical memory to support those virtual machines.</p>
<p class="indent"><span id="page_146" epub:type="pagebreak"></span>A second option is to use dynamic memory, which allows a company to assign a minimum and maximum amount of memory to a virtual machine. With dynamic memory, a virtual machine consumes memory based on its current workload. Dynamic memory also allows for overcommitting the host computer&#8217;s physical memory so that more virtual machines can be run on that host computer.</p>
<p class="indent">Dynamic memory can be enabled on a per-virtual-machine basis, targeting only those virtual machines that can benefit from it. One way for a company to determine if it should use static or dynamic memory is by taking into account the application the virtual machine will be running. For example, if the company has a virtual machine that is running an application that uses a fixed amount of memory, the better option is to use static memory and allocate exactly the amount of memory that virtual machine needs. Managing virtual machine memory is a key component to the performance of the virtualization environment and needs to be carefully planned and executed. <a href="part0019.xhtml#ch5tab4">Table 5-4</a>, shown earlier, lists the maximum amount of memory that is available for various types of virtual machines.</p>
<h4 class="h4-a" id="ch5lev145">Storage Virtualization</h4>
<p class="noindent">Planning where to store the virtual disks and configuration files for the virtual machine is something that needs careful consideration. Storage virtualization groups multiple network storage devices into a single storage unit that can be managed from a central console and used by a virtual machine or host computer.</p>
<p class="indent">Storage virtualization usually occurs in a storage area network (SAN) where a high-speed collection of shared storage devices can be used. Managing storage devices can be a complex and tedious task for an administrator. Storage virtualization simplifies the administration of common storage tasks, such as archiving, recovery, backups, and the configuration of storage.</p>
<p class="indent">A virtualized storage environment has some distinct advantages over nonvirtualized storage. In a nonvirtualized storage environment, the host computers connect directly to the storage that is internal to the host or an external array. In this scenario, the server takes complete ownership of the physical storage, with an entire disk tied to a single server.</p>
<p class="indent">Virtualized storage enables the use of shared storage devices and solves the issue of a single server owning the storage by allowing multiple host servers and virtual machines to simultaneously access the storage. Shared storage can present storage to a host computer, and the host computer, in turn, can present the storage to the virtual machine. Multiple host computers can access shared storage at the same time, which allows the virtual machines to migrate between host computers.Virtualization software supports all the common storage interconnects for block-based storage, including Fibre Channel, iSCSI, Fibre Channel over Ethernet (FCoE), and direct attached storage. The virtualization software provides an interface to simplify how the virtual machine accesses the storage. It also presents SCSI and IDE controllers to the virtual machines so that the operating system can recognize the storage. The virtual machine sees only a simple physical disk attached via the IDE or SCSI controller provided by the virtualization software.</p>
<p class="indent"><span id="page_147" epub:type="pagebreak"></span>Virtual storage offers the following advantages to a virtual machine:</p>
<p class="bullt"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;</span><img class="inline" src="../Images/image01088.jpeg" width="14" height="14" alt="Images"/>&#160;&#160;&#160;Ease of management</p>
<p class="bull"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;</span><img class="inline" src="../Images/image01088.jpeg" width="14" height="14" alt="Images"/>&#160;&#160;&#160;Improved efficiency</p>
<p class="bull"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;</span><img class="inline" src="../Images/image01088.jpeg" width="14" height="14" alt="Images"/>&#160;&#160;&#160;Support for a range of storage types that the native operating system might not support</p>
<p class="bullb"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;</span><img class="inline" src="../Images/image01088.jpeg" width="14" height="14" alt="Images"/>&#160;&#160;&#160;Flexible placement and migration</p>
<p class="indent">If an organization uses Fibre Channel to connect to shared storage, it is taking advantage of N_Port ID Virtualization (NPIV), a technology that allows multiple host computers to share a single physical Fibre Channel port identification, or N_Port. This allows a single host bus adapter to register multiple world wide names (WWNs) and N_Port identification numbers. By using NPIV, each host server can present a different WWN to the shared storage device, which allows each host computer to see its own storage.</p>
<p class="indent">In addition to storage virtualization, an organization might look to clustered storage to provide increased performance, capacity, and reliability for the storage environment that the virtual machines access. Clustered storage combines multiple storage devices together to distribute the workload between storage devices and provide access to the virtual machine files, regardless of the physical location of the files.</p>
<h4 class="h4-a" id="ch5lev146">Guest Tools</h4>
<p class="noindent">Guest tools are software additions that are added to a virtual machine after the operating system has been installed. They enhance the performance of a virtual machine and improve the interaction between the virtual machine and the host computer. Guest tools also make it easier to manage a virtual machine by providing enhanced features, such as faster graphics performance, time synchronization between host and guest, increased network performance, and the ability to copy files between the virtual machine and the host computer. The guest tools are also responsible for integrating the drivers into the guest virtual machine operating system.</p>
<p class="indent">A guest virtual machine operating system can run without installing guest tools, but it loses a lot of the important functionality and ease of administration without them. Installing the guest tools is easy and straightforward on all major virtualization applications and is sometimes even built into the operating system. For example, a Windows Server 2012 virtual machine created using Microsoft Hyper-V has the virtual machine integration services already loaded. Most operating systems, including Microsoft Windows, Linux, Solaris, FreeBSD, NetWare, and MacOS, support installation of guest tools.<span id="page_148" epub:type="pagebreak"></span></p>
<hr class="hr-si" data-AmznRemoved-M8="true"/>
<div class="side">
<p class="exam"><img src="../Images/image01116.jpeg" width="87" height="45" alt="Images"/></p>
</div>
<div class="side1">
<p class="indent"><strong>Guest tools help the virtual machine interact with the host machine such as by keeping clocks in sync. Some virtual machine features may not work without the guest tools being installed on that virtual machine.</strong></p>
</div>
<hr class="hr-si1" data-AmznRemoved-M8="true"/>
<hr class="hr-c" data-AmznRemoved-M8="true"/>
<h5 class="h5o" id="ch5sec04"><span class="white">CERTIFICATION OBJECTIVE 5.04</span></h5>
<hr class="hr-c1" data-AmznRemoved-M8="true"/>
<h3 class="h3-a" id="ch5lev147">Virtualized Infrastructure Service Elements</h3>
<p class="noindent">Experts used to debate about which workloads were suitable for virtualization and which were not. However, today, most workloads are safe to run in a virtual machine. Virtualization is not just used for testing or development environments. Rather, enterprise-grade production systems run in highly virtualized environments. Of course, the purpose of virtual machines is to run services or applications, and this section presents some of the types of services you should be familiar with as you build out a virtualized infrastructure into a given cloud solution.</p>
<h4 class="h4-a" id="ch5lev148">DNS</h4>
<p class="noindent">Domain Name System (DNS) is the backbone of network communication for it provides name resolution for devices on the local network, domain, or the Internet. DNS servers respond to queries for name resolution for hosts that reside within their particular space. This space is called a zone. Name resolution is the process whereby a name such as <a href="http://cloudplus.comptia.com">cloudplus.comptia.com</a> is translated into its associated IP address. Each machine requires a unique IP address to communicate on a network. On the Internet, those addresses are assigned and distributed to companies, and DNS servers maintain records of which names are associated with those addresses so that users and applications can access the services on those hosts.</p>
<p class="indent">Computers that are configured with IP are usually configured with one or more DNS servers. These servers are typically the DNS servers closest to the computer, such as those of an organization&#8217;s domain or a user&#8217;s or company&#8217;s Internet service provider (ISP). On a local domain network, computers can be referenced by just their name. For example, a user using a workstation on the <a href="http://cloudplus.com">cloudplus.com</a> domain who wants to connect to a server called server1 can just type in the host name, server1, and their computer will query the local DNS server for the address associated with <a href="http://server1.cloudplus.com">server1.cloudplus.com</a>. However, when a computer wants to connect to a resource outside its own network, it must use a fully qualified domain name (FQDN). This includes the name of the host and the domain. For example, the FQDN of server1 in this example is <a href="http://server1.cloudplus.com">server1.cloudplus.com</a>.</p>
<p class="indent">DNS servers can be configured to be authoritative for a zone. Those that are authoritative are associated with the owner of the domain, and they provide the most accurate results. However, computers often receive answers to DNS queries that are nonauthoritative. That is because their local DNS server issues queries on their behalf when it does not know of other domain names. It retains a local cache of queries and can respond back from that cache until the cache expires. DNS servers inform other servers how long a DNS entry may be cached so that stale records are not provided back to users.<span id="page_149" epub:type="pagebreak"></span></p>
<h4 class="h4-a" id="ch5lev149">DHCP</h4>
<p class="noindent">Each machine on an IP network needs a unique address to communicate. These addresses can be assigned manually or automatically. Dynamic Host Configuration Protocol (DHCP) is a service that hands out IP addresses to machines upon request. This is most often used for end-user workstations or for devices that connect to an ISP. DHCP servers are configured with one or more scopes. Each scope can hand out IP addresses from a specific range. Within that range, some addresses can be reserved for a specific machine by assigning an IP address to the MAC address of the desired node in the DHCP configuration. A MAC address is a unique identifier that is placed on a network interface port from the manufacturer.</p>
<p class="indent">DHCP servers usually hand out other information in addition to the IP address. This information includes the DNS server, default gateway, local time server, and other options such as where server boot images can be found. (DNS servers were discussed in the previous section.) The default gateway is the device that computers will send traffic to if its destination does not reside on the local network, VLAN, or VXLAN.</p>
<h4 class="h4-a" id="ch5lev150">Certificate Services</h4>
<p class="noindent">Certificates are cryptographic functions that can be used to encrypt data in a public key infrastructure (PKI) or verify the authenticity of devices, program code, or websites. Certificates are cryptographic in that they are a function of an encryption algorithm where a public and private key pair can be used to sign data from one another (e.g., that requires use of a public and private key pair to sign and validate data sent between the certificate holders.) Data encrypted with a public key can only be decrypted by the associated private key, and data encrypted by the private key can only be decrypted by the associated public key. Similarly, data that is signed with the private key can prove authenticity because the signature can be decrypted with the public key, proving that the signer has the private key.</p>
<p class="indent">As you can surmise from the names, the private key is held within the certificate and the public key is made available to anyone who wants it. In order to validate itself as authentic, a website, program code, or a device can sign data with its digital signature (private key). If the digital signature can be read with the public key, the certificate is validated because the private key is not shared.</p>
<p class="indent">PKI is required to manage the exchange of keys and validation of certificates. Computers obtain public keys and certificate serial numbers from a certificate server in order to validate the certificates issued by it. However, computers do not simply trust any certificate server. Computers are configured by default to trust several root certificate authorities. These authorities can issue certificates to other certificate servers, granting them the right to issue certificates for a specific domain. The certificate authority must go through a process to prove its identity before the root provides it with a subordinate certificate used to issue certificates. Externally validated certificates from trusted third parties are not free. Organizations must pay for these certificates. Most certificates are purchased for a specific use from a trusted third-party certificate authority.</p>
<p class="indent"><span id="page_150" epub:type="pagebreak"></span>Companies can issue their own certificates without being part of the trusted certificate chain leading back to a trusted certificate authority. This is often performed for authentication or encryption on a domain. Computers in the domain can be configured to trust the domain certificate authority, and that certificate authority then issues certificates to the machines on the domain so that they can authenticate each other. However, if a company tries to use certificates generated on its own domain for use over the Internet, those outside the organization will not trust the certificates assigned to the sites, and they will receive warnings or errors in displaying the page.</p>
<h4 class="h4-a" id="ch5lev151">Local Agents</h4>
<p class="noindent">A variety of services utilize agent software to perform functions on a virtual machine. This includes backup software, licensing modules, performance monitoring, and security software, to name a few. A centralized tool coordinates tasks that run on local agents installed on individual virtual machines. The local agent can talk to the centralized tool to report back metrics, perform backup tasks, or obtain licensing information and then this information can be reviewed within the central tool. Local agents make it possible for enterprise software to manage individual devices to a greater degree than would be allowed through remote management configuration.</p>
<p class="indent">Cloud services offer virtual machine extensions that offer the same or similar functionality to local agents. For example, a company using Azure, Amazon Web Services, or Rackspace might purchase extensions for backup recovery, antivirus, software installation, or other features as defined by the cloud service. This makes it easy to manage cloud systems from the same centralized consoles that manage other organizational machines.</p>
<h4 class="h4-a" id="ch5lev152">Antivirus</h4>
<p class="noindent">Antivirus software is a necessity for virtual machines. Antivirus software scans files resident on a machine and processes in memory and analyzes them for signatures or anomalous behavioral patterns. Signatures describe what a malicious process or file looks like so that antivirus software can recognize it. Behavioral patterns analyze the way a system operates to identify conditions that are outside the norm or indicative of malicious behavior, in response to which the antivirus software takes action to restrict, block, or log activity based on the software&#8217;s configuration.</p>
<p class="indent">Some hypervisor-aware antivirus software can perform a function called hypervisor introspection where the antivirus software resides on the host rather than on individual machines. Since the host has access to the virtual memory for each virtual machine and the virtual hard disks, the hypervisor-aware antivirus software can monitor all memory for viruses and block any it recognizes as malicious without requiring a separate agent on each machine.<span id="page_151" epub:type="pagebreak"></span></p>
<h4 class="h4-a" id="ch5lev153">Load Balancing</h4>
<p class="noindent">Some services can be configured to run on multiple machines so that the work of processing requests and servicing end users can be divided among multiple servers. This process is known as load balancing.</p>
<p class="indent">With load balancing, a standard virtual machine can be configured to support a set number of users. When demand reaches a specific threshold, another virtual machine can be created from the standard template and joined into the cluster to balance the load.</p>
<p class="indent">Load balancing is also valuable when performing system maintenance, as systems can be added or removed from the load-balancing cluster at will. However, load balancing is different from failover clustering in that machines cannot be failed over immediately without a loss of connection with end users. Instead, load-balanced machines are drain stopped. This tells the coordinating process not to send new connections to the node. The node finishes servicing all the user requests and then can be taken offline without impacting the overall availability of the system.</p>
<h4 class="h4-a" id="ch5lev154">Multifactor Authentication</h4>
<p class="noindent">Usernames and passwords are not always sufficient for authenticating to sensitive servers and services. Multifactor authentication is a method whereby several authenticating values are used instead of just one. The possible combinations include something you know, something you are, something you have, something you do, and somewhere you are.</p>
<p class="indent">The username/password is something you know. Something you are is a biometric value such as a fingerprint, iris scan, or facial scan. Something you have can be a token authenticator, a small device that generates a number string at regular intervals. A companion device on the server also keeps track of the same numbers. Users provide the token value along with their username and password to authenticate. Other forms of multifactor authentication include the use of proximity cards, which activate when brought close to an authenticator, account cards such as an ATM card that is used in conjunction with a pin, or software that runs on a mobile phone or a secondary device. Such software is configured to receive a pin or code that can be entered on another device. Users must have the device with the software on it in order to authenticate.</p>
<p class="indent">Evaluate the servers in your environment based on the security risk they represent and determine which ones should require multifactor authentication to access. Virtualization hosts are commonly selected for multifactor authentication by companies because access to the host can provide the ability to disrupt operations for the virtual machines on the host or possibly to access the data on the virtual machines.<span id="page_152" epub:type="pagebreak"></span></p>
<h4 class="h4-a" id="ch5lev155">Firewall</h4>
<p class="noindent">Firewalls are software or hardware designed to screen traffic traversing a network link. Some firewalls sit between the Internet and a location or between more and less secure network segments. Virtual machines and physical computers can also run firewall software that blocks access to the computer when that access does not meet specific criteria. These firewalls are called host-based firewalls.</p>
<h4 class="h4-a" id="ch5lev156">IDS/IPS</h4>
<p class="noindent">An intrusion detection system (IDS) or an intrusion prevention system (IPS) is a system designed to evaluate data on a device or network link for signs of malicious behavior. The IDS or IPS operates like antivirus for network data by using signatures of known attack patterns, and heuristics that can detect behavior that appears malicious. Both IDSs and IPSs notify administrators if they detect attacks, but IPSs can also block the traffic or perform other actions as configured to prevent intrusion.</p>
<p class="indent">An IDS or IPS that exists on a network device is called a network-based IDS (NIDS) or network-based IPS (NIPS), while an IDS or IPS that exists on a virtual machine, workstation, or other node is called a host-based IDS (HIDS) or host-based IPS (HIPS).</p>
<h5 class="h5-gg" id="ch5lev157">CERTIFICATION SUMMARY</h5>
<hr class="hrg"/>
<p class="noindent">Knowing how to plan a virtualization environment is of great importance to any organization wishing to adopt a cloud computing infrastructure. A virtualization host computer uses software called a hypervisor that allows a single physical computer to host multiple guests called virtual machines, which can run different operating systems and have different amounts of compute resources assigned to each guest. Understanding how a host computer and a guest virtual machine interact and share resources is a key concept not only to the CompTIA Cloud+ exam but to a successful cloud computing implementation.</p>
<h5 class="h5-ggg" id="ch5lev158">KEY TERMS</h5>
<p class="noindent">Use the following list to review the key terms discussed in this chapter. The definitions also can be found in the glossary.</p>
<p class="noind-gg"><span class="bign"><strong>antivirus software</strong></span>&#160;&#160;&#160;A piece of software that scans files resident on a machine and processes in memory and analyzes them for signatures or anomalous behavioral patterns. If malicious code or behavior is detected, antivirus software takes action to restrict, block, or log activity based on the software&#8217;s configuration.</p>
<p class="noind-gg"><span id="page_153" epub:type="pagebreak"></span><span class="bign"><strong>Basic Input/Output System (BIOS)</strong></span>&#160;&#160;&#160;Built-in software that allows the computer to boot without an operating system and controls the code required to manage the keyboard, display, disk drives, and some other functions.</p>
<p class="noind-gg"><span class="bign"><strong>central processing unit (CPU)</strong></span>&#160;&#160;&#160;Hardware device responsible for executing all of the instructions from the operating system and software.</p>
<p class="noind-gg"><span class="bign"><strong>certificate services</strong></span>&#160;&#160;&#160;The infrastructure required to manage the exchange of keys and validation of certificates.</p>
<p class="noind-gg"><span class="bign"><strong>Domain Name System (DNS)</strong></span>&#160;&#160;&#160;A service that provides name resolution for devices by converting a name to its associated IP address.</p>
<p class="noind-gg"><span class="bign"><strong>Dynamic Host Configuration Protocol (DHCP)</strong></span>&#160;&#160;&#160;A service that hands out IP addresses to machines upon request.</p>
<p class="noind-gg"><span class="bign"><strong>firewall</strong></span>&#160;&#160;&#160;A piece of software or hardware that screens traffic traversing a network link. When the firewall screens traffic for the local links in a host, it is known as a host-based firewall.</p>
<p class="noind-gg"><span class="bign"><strong>firmware</strong></span>&#160;&#160;&#160;Set of instructions that is programmed into a specific hardware device that instructs the hardware device how to communicate with the computer system.</p>
<p class="noind-gg"><span class="bign"><strong>guest tools</strong></span>&#160;&#160;&#160;Software additions that are added to a virtual machine after the operating system has been installed to improve the interaction between the virtual machine and the virtualization host.</p>
<p class="noind-gg"><span class="bign"><strong>hardware-assisted virtualization</strong></span>&#160;&#160;&#160;Enables efficient full virtualization used to simulate a complete hardware environment or a virtual machine.</p>
<p class="noind-gg"><span class="bign"><strong>hyperthreading</strong></span>&#160;&#160;&#160;A technology that creates two logical CPU cores for each physical CPU core that supports hyperthreading.</p>
<p class="noind-gg"><span class="bign"><strong>hypervisor</strong></span>&#160;&#160;&#160;A piece of software that creates and manages the virtual infrastructure, including virtual switch (vSwitch), virtual CPU (vCPU), virtual memory, virtual disks, and virtual machines.</p>
<p class="noind-gg"><span class="bign"><strong>intrusion detection system (IDS)</strong></span>&#160;&#160;&#160;A piece of software or hardware that evaluates data on a device or network link for signs of malicious behavior and alerts or logs such activity.</p>
<p class="noind-gg"><span id="page_154" epub:type="pagebreak"></span><span class="bign"><strong>intrusion prevention system (IPS)</strong></span>&#160;&#160;&#160;A piece of software or hardware that evaluates data on a device or network link for signs of malicious behavior and blocks, restricts, alerts, or logs such activity.</p>
<p class="noind-gg"><span class="bign"><strong>load balancing</strong></span>&#160;&#160;&#160;Running services on multiple machines to share the burden of processing requests and servicing end users.</p>
<p class="noind-gg"><span class="bign"><strong>memory ballooning</strong></span>&#160;&#160;&#160;A process whereby virtual machines give up some of their memory for another virtual machine on the host.</p>
<p class="noind-gg"><span class="bign"><strong>memory burst</strong></span>&#160;&#160;&#160;The maximum amount of memory a virtual machine can allocate from the host.</p>
<p class="noind-gg"><span class="bign"><strong>N_Port ID Virtualization (NPIV)</strong></span>&#160;&#160;&#160;Allows multiple host computers to share a single physical Fibre Channel port identification or N_Port.</p>
<p class="noind-gg"><span class="bign"><strong>network interface card (NIC)</strong></span>&#160;&#160;&#160;Computer component that is used to connect a computer to a computer network.</p>
<p class="noind-gg"><span class="bign"><strong>open-source hypervisor</strong></span>&#160;&#160;&#160;Hypervisor software provided at no cost and delivers the same ability to run multiple guest virtual machines on a single host.</p>
<p class="noind-gg"><span class="bign"><strong>overcommitment</strong></span>&#160;&#160;&#160;Assigning more resources to virtual machines than are available to the physical host.</p>
<p class="noind-gg"><span class="bign"><strong>overcommitment ratio</strong></span>&#160;&#160;&#160;The number of vCPUs allocated for each physical CPU expressed as a ratio such as 3:1, meaning three vCPUs for one physical CPU.</p>
<p class="noind-gg"><span class="bign"><strong>proprietary</strong></span>&#160;&#160;&#160;Software that is developed and licensed under an exclusive legal right of the copyright holder.</p>
<p class="noind-gg"><span class="bign"><strong>storage virtualization</strong></span>&#160;&#160;&#160;Groups multiple network storage devices into a single storage unit that can be managed from a central console and presented to a virtual machine or host computer as a single storage unit.</p>
<p class="noind-gg"><span class="bign"><strong>thick provisioning</strong></span>&#160;&#160;&#160;Allocates the amount of disk space required when the virtual disk is created.</p>
<p class="noind-gg"><span id="page_155" epub:type="pagebreak"></span><span class="bign"><strong>thin provisioning</strong></span>&#160;&#160;&#160;Allows a virtual disk to allocate and commit storage space on demand and use only the space it currently requires.</p>
<p class="noind-gg"><span class="bign"><strong>transparent page sharing</strong></span>&#160;&#160;&#160;A technology that deduplicates hypervisor memory allocated to virtual machines.</p>
<p class="noind-gg"><span class="bign"><strong>type 1 hypervisor</strong></span>&#160;&#160;&#160;Hypervisor that is created and deployed on a bare metal installation.</p>
<p class="noind-gg"><span class="bign"><strong>type 2 hypervisor</strong></span>&#160;&#160;&#160;Hypervisor loaded on top of an already existing operating system installation.</p>
<p class="noind-gg"><span class="bign"><strong>virtual allocation table (VAT)</strong></span>&#160;&#160;&#160;Methods such as nested page tables or shadow page tables for mapping virtual machine memory to that of the host.</p>
<p class="noind-gg"><span class="bign"><strong>virtual CPU (vCPU)</strong></span>&#160;&#160;&#160;Used on a guest virtual machine and is similar to a physical CPU.</p>
<p class="noind-gg"><span class="bign"><strong>virtual desktop infrastructure (VDI)</strong></span>&#160;&#160;&#160;A method of virtualizing workstation operating systems in a centralized location whereby end users connect to their virtual desktops remotely.</p>
<p class="noind-gg"><span class="bign"><strong>virtual disk</strong></span>&#160;&#160;&#160;Emulates a physical disk drive to a virtual machine.</p>
<p class="noind-gg"><span class="bign"><strong>virtual hard disk (VHD)</strong></span>&#160;&#160;&#160;A virtual disk format used by Microsoft hypervisors.</p>
<p class="noind-gg"><span class="bign"><strong>virtual machine/guest</strong></span>&#160;&#160;&#160;Emulates a physical computer where the virtualization host translates requests for compute resources to the underlying physical hardware.</p>
<p class="noind-gg"><span class="bign"><strong>virtual machine disk (VMDK)</strong></span>&#160;&#160;&#160;A virtual hard disk format used by VMware hypervisors.</p>
<p class="noind-gg"><span class="bign"><strong>virtual NIC (vNIC)</strong></span>&#160;&#160;&#160;Similar to a physical NIC and can connect to a vSwitch and be assigned an IP address, default gateway, and subnet mask.</p>
<p class="noind-gg"><span class="bign"><strong>virtual switch (vSwitch)</strong></span>&#160;&#160;&#160;Similar to a physical switch, allows network devices to be connected and is used to control how the network traffic flows between the virtual machines and the virtualization host.</p>
<p class="noind-gg"><span class="bign"><strong>virtualization host</strong></span>&#160;&#160;&#160;System that hosts or contains guest virtual machines.</p>
<p class="noind-gg"><span class="bign"><strong>VT-x</strong></span>&#160;&#160;&#160;A set of instructions performing virtualization functions that is built into the CPU.<span id="page_156" epub:type="pagebreak"></span></p>
<h3 class="h3b" id="ch5lev159"><img src="../Images/image01124.jpeg" width="58" height="60" alt="Images"/> TWO-MINUTE DRILL</h3>
<h4 class="h4">Hypervisor</h4>
<p class="bull-image"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;</span><img class="inline" src="../Images/image01125.jpeg" width="15" height="15" alt="Images"/>&#160;&#160;&#160;&#160;A hypervisor is software that allows a computer system to run multiple operating systems on a single piece of hardware.</p>
<p class="bull-image"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;</span><img class="inline" src="../Images/image01125.jpeg" width="15" height="15" alt="Images"/>&#160;&#160;&#160;&#160;A computer that runs the hypervisor and hosts multiple operating systems is called the host computer.</p>
<p class="bull-image"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;</span><img class="inline" src="../Images/image01125.jpeg" width="15" height="15" alt="Images"/>&#160;&#160;&#160;&#160;A type 1 hypervisor is deployed on a bare metal system and communicates directly with the physical server hardware.</p>
<p class="bull-image"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;</span><img class="inline" src="../Images/image01125.jpeg" width="15" height="15" alt="Images"/>&#160;&#160;&#160;&#160;A type 2 hypervisor is loaded on top of a system that is already running an operating system. It relies on that operating system to load a guest virtual machine.</p>
<p class="bull-image"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;</span><img class="inline" src="../Images/image01125.jpeg" width="15" height="15" alt="Images"/>&#160;&#160;&#160;&#160;An open-source hypervisor is provided at no cost, whereas a proprietary hypervisor is purchased by the customer under a licensing agreement.</p>
<p class="bull-image"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;</span><img class="inline" src="../Images/image01125.jpeg" width="15" height="15" alt="Images"/>&#160;&#160;&#160;&#160;A consumer is more likely to use a type 2 hypervisor, and an enterprise is more likely to use a type 1 hypervisor to host multiple guest virtual machines.</p>
<h4 class="h4">Virtualization Host</h4>
<p class="bull-image"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;</span><img class="inline" src="../Images/image01125.jpeg" width="15" height="15" alt="Images"/>&#160;&#160;&#160;&#160;In order for a computer to be configured as a host computer, the BIOS must support and have hardware-assisted virtualization enabled, which might require a firmware upgrade.</p>
<p class="bull-image"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;</span><img class="inline" src="../Images/image01125.jpeg" width="15" height="15" alt="Images"/>&#160;&#160;&#160;&#160;Newer systems use the Unified Extensible Firmware Interface (UEFI), a system that replaces BIOS. UEFI addresses limitations in BIOS by allowing both 32-bit and 64-bit processing, more than 1MB of addressable memory, and drives larger than 2.1TB.</p>
<p class="bull-image"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;</span><img class="inline" src="../Images/image01125.jpeg" width="15" height="15" alt="Images"/>&#160;&#160;&#160;&#160;Planning the resources a virtualization host requires to support the virtual environment is a key step to having a successful virtualization implementation.</p>
<p class="bull-image"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;</span><img class="inline" src="../Images/image01125.jpeg" width="15" height="15" alt="Images"/>&#160;&#160;&#160;&#160;When planning how many CPUs to have in a host computer, the number of CPU cores is more important than the speed of the CPU.</p>
<p class="bull-image"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;</span><img class="inline" src="../Images/image01125.jpeg" width="15" height="15" alt="Images"/>&#160;&#160;&#160;&#160;When purchasing NICs for a host computer, it is important that they support some of the advanced features, like TCP Segmentation Off-Load (TSO), Jumbo Frames (JF), checksum off-load, and Large Receive Off-Load (LRO).</p>
<h4 class="h4">Virtual Machine</h4>
<p class="bull-image"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;</span><img class="inline" src="../Images/image01125.jpeg" width="15" height="15" alt="Images"/>&#160;&#160;&#160;&#160;A virtual machine is very similar to a physical computer, with the primary difference being a virtual machine&#8217;s compute resources are managed by a hypervisor.</p>
<p class="bull-image"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;</span><img class="inline" src="../Images/image01125.jpeg" width="15" height="15" alt="Images"/>&#160;&#160;&#160;&#160;<span id="page_157" epub:type="pagebreak"></span>A virtual environment allows you to isolate a virtual machine from the rest of the network for testing and development of new applications and operating systems.</p>
<p class="bull-image"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;</span><img class="inline" src="../Images/image01125.jpeg" width="15" height="15" alt="Images"/>&#160;&#160;&#160;&#160;A virtual disk emulates a physical disk and is managed by the virtual machine in the same manner a physical disk would be.</p>
<p class="bull-image"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;</span><img class="inline" src="../Images/image01125.jpeg" width="15" height="15" alt="Images"/>&#160;&#160;&#160;&#160;A virtual disk can be either thick or thin. A thin-provisioned disk starts out small and grows as data is written to it, whereas a thick disk size is defined when the disk is created.</p>
<p class="bull-image"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;</span><img class="inline" src="../Images/image01125.jpeg" width="15" height="15" alt="Images"/>&#160;&#160;&#160;&#160;A virtual NIC (vNIC) is similar to a physical NIC and can be assigned an IP address, default gateway, and subnet mask.</p>
<p class="bull-image"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;</span><img class="inline" src="../Images/image01125.jpeg" width="15" height="15" alt="Images"/>&#160;&#160;&#160;&#160;A vNIC is connected to a vSwitch, and the vSwitch dictates how the vNIC and virtual machine communicate on the network.</p>
<p class="bull-image"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;</span><img class="inline" src="../Images/image01125.jpeg" width="15" height="15" alt="Images"/>&#160;&#160;&#160;&#160;A virtual machine can use dynamic memory, which allows the virtual machine to start with a smaller amount of memory and increase it based on the load on the virtual machine.</p>
<p class="bull-image"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;</span><img class="inline" src="../Images/image01125.jpeg" width="15" height="15" alt="Images"/>&#160;&#160;&#160;&#160;Storage virtualization groups multiple network storage devices into a single storage unit that can be managed from a central console and presented to a virtual machine or host computer as a single storage unit.</p>
<p class="bull-image"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;</span><img class="inline" src="../Images/image01125.jpeg" width="15" height="15" alt="Images"/>&#160;&#160;&#160;&#160;Guest tools are software additions that provide features and enhancements to a virtual machine, along with improving the interaction between a virtual machine and a host computer.</p>
<h4 class="h4">Virtualized Infrastructure Service Elements</h4>
<p class="bull-image"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;</span><img class="inline" src="../Images/image01125.jpeg" width="15" height="15" alt="Images"/>&#160;&#160;&#160;&#160;DNS provides name resolution, translating domain names to IP addresses.</p>
<p class="bull-image"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;</span><img class="inline" src="../Images/image01125.jpeg" width="15" height="15" alt="Images"/>&#160;&#160;&#160;&#160;Each machine on an IP network needs a unique address to communicate. These addresses can be assigned manually or automatically. DHCP is a service that hands out IP addresses to machines upon request.</p>
<p class="bull-image"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;</span><img class="inline" src="../Images/image01125.jpeg" width="15" height="15" alt="Images"/>&#160;&#160;&#160;&#160;Certificates are used to encrypt data in a public key infrastructure (PKI) or verify the authenticity of devices, program code, or websites.</p>
<p class="bull-image"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;</span><img class="inline" src="../Images/image01125.jpeg" width="15" height="15" alt="Images"/>&#160;&#160;&#160;&#160;Backup software, licensing modules, performance monitoring, and security software may employ agents to perform functions on machines. Agents communicate back with a server service to operate on other servers or workstations.</p>
<p class="bull-image"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;</span><img class="inline" src="../Images/image01125.jpeg" width="15" height="15" alt="Images"/>&#160;&#160;&#160;&#160;Antivirus software scans files resident on a machine and processes in memory and analyzes them for signatures or anomalous behavioral patterns.</p>
<p class="bull-image"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;</span><img class="inline" src="../Images/image01125.jpeg" width="15" height="15" alt="Images"/>&#160;&#160;&#160;&#160;Some services can be configured to run on multiple machines so that the work of processing requests and servicing end users can be divided among multiple servers. This process is known as load balancing.<span id="page_158" epub:type="pagebreak"></span></p>
<h3 class="h3b" id="ch5lev160"><img src="../Images/image01126.jpeg" width="97" height="119" alt="Images"/> SELF TEST</h3>
<p class="noindent">The following questions will help you measure your understanding of the material presented in this chapter. As indicated, some questions may have more than one correct answer, so be sure to read all the answer choices carefully.</p>
<h4 class="h4">Hypervisor</h4>
<p class="que"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;</span><strong><a id="ch5que1"></a><a href="part0019.xhtml#ich5que1">1</a>.</strong>&#160;&#160;&#160;Which of the following hypervisors would provide the best performance for a host machine?</p>
<p class="alpha"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span>A.&#160;&#160;&#160;Type 1</p>
<p class="alpha"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span>B.&#160;&#160;&#160;Type 2</p>
<p class="alpha"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span>C.&#160;&#160;&#160;Open source</p>
<p class="alpha"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span>D.&#160;&#160;&#160;Proprietary</p>
<p class="que"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;</span><strong><a id="ch5que2"></a><a href="part0019.xhtml#ich5que2">2</a>.</strong>&#160;&#160;&#160;You are investigating which technology is best suited for virtualizing a server operating system for personal use on a desktop computer. Which of the following technologies would you recommend?</p>
<p class="alpha"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span>A.&#160;&#160;&#160;Type 1</p>
<p class="alpha"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span>B.&#160;&#160;&#160;Type 2</p>
<p class="alpha"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span>C.&#160;&#160;&#160;SAN</p>
<p class="alpha"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span>D.&#160;&#160;&#160;RAID 6</p>
<p class="que"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;</span><strong><a id="ch5que3"></a><a href="part0019.xhtml#ich5que3">3</a>.</strong>&#160;&#160;&#160;Which of the following hypervisors runs on a bare metal system?</p>
<p class="alpha"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span>A.&#160;&#160;&#160;Open source</p>
<p class="alpha"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span>B.&#160;&#160;&#160;Proprietary</p>
<p class="alpha"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span>C.&#160;&#160;&#160;Type 1</p>
<p class="alpha"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span>D.&#160;&#160;&#160;Type 2</p>
<p class="que"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;</span><strong><a id="ch5que4"></a><a href="part0019.xhtml#ich5que4">4</a>.</strong>&#160;&#160;&#160;What type of hypervisor is provided to an enterprise to use without cost?</p>
<p class="alpha"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span>A.&#160;&#160;&#160;Proprietary</p>
<p class="alpha"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span>B.&#160;&#160;&#160;Open source</p>
<p class="alpha"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span>C.&#160;&#160;&#160;Type 1</p>
<p class="alpha"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span>D.&#160;&#160;&#160;Type 2</p>
<p class="que"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;</span><strong><a id="ch5que5"></a><a href="part0019.xhtml#ich5que5">5</a>.</strong>&#160;&#160;&#160;<span id="page_159" epub:type="pagebreak"></span>An administrator is testing a variety of operating systems while performing other functions like surfing the Internet and word processing. What type of hypervisor is the admin most likely using?</p>
<p class="alpha"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span>A.&#160;&#160;&#160;Type 1</p>
<p class="alpha"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span>B.&#160;&#160;&#160;Enterprise hypervisor</p>
<p class="alpha"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span>C.&#160;&#160;&#160;Type 2</p>
<p class="alpha"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span>D.&#160;&#160;&#160;Open source</p>
<h4 class="h4">Virtualization Host</h4>
<p class="que"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;</span><strong><a id="ch5que6"></a><a href="part0019.xhtml#ich5que6">6</a>.</strong>&#160;&#160;&#160;You are deploying two virtual servers. One of the virtual servers is a heavily used database server and the other is a lightly used print server. What virtual CPU configuration would you recommend?</p>
<p class="alpha"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span>A.&#160;&#160;&#160;One virtual CPU for the database server and two virtual CPUs for the print server</p>
<p class="alpha"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span>B.&#160;&#160;&#160;Two virtual CPUs for the database server and two virtual CPUs for the print server</p>
<p class="alpha"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span>C.&#160;&#160;&#160;Two virtual CPUs for the database server and one virtual CPU for the print server</p>
<p class="alpha"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span>D.&#160;&#160;&#160;Three virtual CPUs for the print server and two virtual CPUs for the database server</p>
<p class="que"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;</span><strong><a id="ch5que7"></a><a href="part0019.xhtml#ich5que7">7</a>.</strong>&#160;&#160;&#160;An administrator is trying to enable hardware-assisted virtualization in the BIOS of a computer and notices it is not an option. He checks the specification on the manufacturer&#8217;s website and finds that the system should support hardware-assisted virtualization. What is most likely the reason why he can&#8217;t enable it?</p>
<p class="alpha"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span>A.&#160;&#160;&#160;The BIOS needs a firmware update.</p>
<p class="alpha"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span>B.&#160;&#160;&#160;The BIOS is corrupt.</p>
<p class="alpha"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span>C.&#160;&#160;&#160;Hardware-assisted virtualization is enabled in the operating system, not the BIOS.</p>
<p class="alpha"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span>D.&#160;&#160;&#160;The firmware is corrupt.</p>
<p class="que"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;</span><strong><a id="ch5que8"></a><a href="part0019.xhtml#ich5que8">8</a>.</strong>&#160;&#160;&#160;You have been tasked with planning the purchase of a new virtualization host computer. When it comes time to recommend the processor type, which processor capability is more important?</p>
<p class="alpha"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span>A.&#160;&#160;&#160;CPUs are more important than CPU cores and cache.</p>
<p class="alpha"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span>B.&#160;&#160;&#160;CPU cores and cache are more important than CPUs.</p>
<p class="alpha"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span>C.&#160;&#160;&#160;CPU speed is more important than CPU cores and cache.</p>
<p class="alpha"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span>D.&#160;&#160;&#160;CPU cores and cache are more important than CPU speed.</p>
<p class="que"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;</span><strong><a id="ch5que9"></a><a href="part0019.xhtml#ich5que9">9</a>.</strong>&#160;&#160;&#160;Which of the following would be a requirement when planning the compute resources for a host computer?</p>
<p class="alpha"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span>A.&#160;&#160;&#160;The host computer does not need to have enough compute resources to support the virtual machine workload.</p>
<p class="alpha"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span>B.&#160;&#160;&#160;The host computer must have enough compute resources to support the virtual machine workload.</p>
<p class="alpha"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span>C.&#160;&#160;&#160;The host computer must be running a support operating system.</p>
<p class="alpha"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span>D.&#160;&#160;&#160;The number of virtual machines running Microsoft Windows must be known.</p>
<h4 class="h4"><span id="page_160" epub:type="pagebreak"></span>Virtual Machine</h4>
<p class="que1"><strong><a id="ch5que10"></a><a href="part0019.xhtml#ich5que10">10</a>.</strong>&#160;&#160;&#160;In a virtual machine, which component appears as an Ethernet adapter?</p>
<p class="alpha"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span>A.&#160;&#160;&#160;Virtual HBA</p>
<p class="alpha"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span>B.&#160;&#160;&#160;Virtual NIC</p>
<p class="alpha"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span>C.&#160;&#160;&#160;Virtual switch</p>
<p class="alpha"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span>D.&#160;&#160;&#160;Virtual router</p>
<p class="que1"><strong><a id="ch5que11"></a><a href="part0019.xhtml#ich5que11">11</a>.</strong>&#160;&#160;&#160;An administrator deploys a new virtual machine. After logging on to the virtual machine, she notices that it has a different time setting than the host. What is most likely the cause of this issue?</p>
<p class="alpha"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span>A.&#160;&#160;&#160;The virtual machine cannot communicate with the network.</p>
<p class="alpha"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span>B.&#160;&#160;&#160;The guest tools are not installed.</p>
<p class="alpha"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span>C.&#160;&#160;&#160;The vNIC is not configured correctly.</p>
<p class="alpha"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span>D.&#160;&#160;&#160;The VLAN tag is incorrect.</p>
<p class="que1"><strong><a id="ch5que12"></a><a href="part0019.xhtml#ich5que12">12</a>.</strong>&#160;&#160;&#160;Which of the following groups multiple network storage devices into a single storage unit that can be managed from a central console and used by a virtual machine or host computer?</p>
<p class="alpha"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span>A.&#160;&#160;&#160;Virtual switch</p>
<p class="alpha"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span>B.&#160;&#160;&#160;Virtual HBA</p>
<p class="alpha"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span>C.&#160;&#160;&#160;Virtual NIC</p>
<p class="alpha"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span>D.&#160;&#160;&#160;Storage virtualization</p>
<p class="que1"><strong><a id="ch5que13"></a><a href="part0019.xhtml#ich5que13">13</a>.</strong>&#160;&#160;&#160;Which type of memory allows a virtual machine to start with a smaller amount of memory and increase it based on the workload of the virtual machine?</p>
<p class="alpha"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span>A.&#160;&#160;&#160;Startup RAM</p>
<p class="alpha"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span>B.&#160;&#160;&#160;Static memory</p>
<p class="alpha"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span>C.&#160;&#160;&#160;Virtual memory</p>
<p class="alpha"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span>D.&#160;&#160;&#160;Dynamic memory</p>
<p class="que1"><strong><a id="ch5que14"></a><a href="part0019.xhtml#ich5que14">14</a>.</strong>&#160;&#160;&#160;Which component controls how the network traffic flows between the virtual machines and the host computer and also how network traffic flows between the virtual machine and other network devices in the organization?</p>
<p class="alpha"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span>A.&#160;&#160;&#160;Virtual NIC</p>
<p class="alpha"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span>B.&#160;&#160;&#160;Virtual storage</p>
<p class="alpha"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span>C.&#160;&#160;&#160;Virtual HBA</p>
<p class="alpha"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span>D.&#160;&#160;&#160;Virtual switch</p>
<h4 class="h4"><span id="page_161" epub:type="pagebreak"></span>Virtualized Infrastructure Service Elements</h4>
<p class="que1"><strong><a id="ch5que15"></a><a href="part0019.xhtml#ich5que15">15</a>.</strong>&#160;&#160;&#160;Which piece of information is required to create a DHCP reservation?</p>
<p class="alpha"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span>A.&#160;&#160;&#160;MAC address</p>
<p class="alpha"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span>B.&#160;&#160;&#160;Default gateway</p>
<p class="alpha"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span>C.&#160;&#160;&#160;Server name</p>
<p class="alpha"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span>D.&#160;&#160;&#160;Host record</p>
<p class="que1"><strong><a id="ch5que16"></a><a href="part0019.xhtml#ich5que16">16</a>.</strong>&#160;&#160;&#160;Which of the following could not be used as one part of a multifactor authentication solution?</p>
<p class="alpha"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span>A.&#160;&#160;&#160;Fingerprint</p>
<p class="alpha"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span>B.&#160;&#160;&#160;Token</p>
<p class="alpha"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span>C.&#160;&#160;&#160;Reference</p>
<p class="alpha"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span>D.&#160;&#160;&#160;Proximity card</p>
<h3 class="h3b" id="ch5lev161"><img src="../Images/image01127.jpeg" width="97" height="100" alt="Images"/> SELF TEST ANSWERS</h3>
<h4 class="h4">Hypervisor</h4>
<p class="que-q"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;</span><strong><a id="ich5que1"></a><a href="part0019.xhtml#ch5que1">1</a>.</strong>&#160;&#160;&#160;<img src="../Images/image01128.jpeg" width="16" height="16" alt="Images"/>&#160;&#160;&#160;<strong>A.</strong> A type 1 hypervisor is one that is created and deployed on a bare metal installation. The hypervisor communicates directly with the physical server hardware and boots before the operating system. Due to the way the hypervisor interacts with the host computer, a type 1 hypervisor will provide improved performance versus the other answer choices.</p>
<p class="quep"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span><img src="../Images/image01129.jpeg" width="16" height="16" alt="Images"/>&#160;&#160;&#160;<strong>B, C,</strong> and <strong>D</strong> are incorrect. A type 2 hypervisor is loaded on top of an already existing operating system installation, and the underlying operating system is what impacts performance. While it could be argued that an open-source hypervisor might perform better than a proprietary hypervisor, the open-source hypervisor would still be considered a type 1 hypervisor.</p>
<p class="que-q"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;</span><strong><a id="ich5que2"></a><a href="part0019.xhtml#ch5que2">2</a>.</strong>&#160;&#160;&#160;<img src="../Images/image01128.jpeg" width="16" height="16" alt="Images"/>&#160;&#160;&#160;<strong>B.</strong> A type 2 hypervisor is more suited for personal use because it can be installed directly on top of an existing operating system. Most desktop manufacturers support hardware virtualization on their desktops, which would allow you to run a type 2 hypervisor on your existing operating system.</p>
<p class="quep"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span><img src="../Images/image01129.jpeg" width="16" height="16" alt="Images"/>&#160;&#160;&#160;<strong>A, C,</strong> and <strong>D</strong> are incorrect. A type 1 hypervisor is more suited for an enterprise environment where the host computer is designed and configured to do nothing but virtualization. A SAN and RAID 6 would not be a required consideration when running a personal virtualization solution.</p>
<p class="que-q"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;</span><strong><a id="ich5que3"></a><a href="part0019.xhtml#ch5que3">3</a>.</strong>&#160;&#160;&#160;<img src="../Images/image01128.jpeg" width="16" height="16" alt="Images"/>&#160;&#160;&#160;<strong>C.</strong> A type 1 hypervisor is one that is created and deployed on a bare metal installation.</p>
<p class="quep"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span><img src="../Images/image01129.jpeg" width="16" height="16" alt="Images"/>&#160;&#160;&#160;<strong>A, B,</strong> and <strong>D</strong> are incorrect. A type 2 hypervisor is loaded on top of an already existing operating system installation. Type 1 or type 2 hypervisors can be either open-source or proprietary hypervisors.</p>
<p class="que-q"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;</span><strong><a id="ich5que4"></a><a href="part0019.xhtml#ch5que4">4</a>.</strong>&#160;&#160;&#160;<img src="../Images/image01128.jpeg" width="16" height="16" alt="Images"/>&#160;&#160;&#160;<strong>B.</strong> An open-source hypervisor is provided at no cost and delivers the same ability as a proprietary hypervisor to run multiple guest virtual machines on a single host.</p>
<p class="quep"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span><img src="../Images/image01129.jpeg" width="16" height="16" alt="Images"/>&#160;&#160;&#160;<strong>A, C,</strong> and <strong>D</strong> are incorrect. A proprietary hypervisor is one that is developed and licensed under an exclusive legal right of the copyright holder and must be purchased by the customer. Type 1 or type 2 hypervisors can be either open-source or proprietary hypervisors.</p>
<p class="que-q"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;</span><strong><a id="ich5que5"></a><a href="part0019.xhtml#ch5que5">5</a>.</strong>&#160;&#160;&#160;<img src="../Images/image01128.jpeg" width="16" height="16" alt="Images"/>&#160;&#160;&#160;<strong>C.</strong> A type 2 hypervisor allows an administrator to run virtual machines on top of an existing operating system while surfing the Internet and running word processing on the host computer.</p>
<p class="quep"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span><img src="../Images/image01129.jpeg" width="16" height="16" alt="Images"/>&#160;&#160;&#160;<strong>A, B,</strong> and <strong>D</strong> are incorrect. A type 1 hypervisor could be used to run virtual machines and at the same time surf the Internet and do word processing, but it would not be best practice. It is not advised to run additional applications on the host computer other than the type 1 hypervisor software due to security risks and resource utilization. An enterprise hypervisor is not a valid hypervisor. An open-source hypervisor can be either a type 1 or type 2 hypervisor.</p>
<h4 class="h4">Virtualization Host</h4>
<p class="que-q"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;</span><strong><a id="ich5que6"></a><a href="part0019.xhtml#ch5que6">6</a>.</strong>&#160;&#160;&#160;<img src="../Images/image01128.jpeg" width="16" height="16" alt="Images"/>&#160;&#160;&#160;<strong>C.</strong> When assigning virtual CPUs, you want to assign as many as possible to the heavily used application. If an application is not going to be heavily utilized, you should assign the minimum amount of virtual CPUs. In this case the database server is heavily utilized so it should get more CPUs than the lightly used print server.</p>
<p class="quep"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span><img src="../Images/image01129.jpeg" width="16" height="16" alt="Images"/>&#160;&#160;&#160;<strong>A, B,</strong> and <strong>D</strong> are incorrect. You would not need to assign the print server more than one virtual CPU, and you would want to assign the database server more virtual CPUs than the print server.</p>
<p class="que-q"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;</span><strong><a id="ich5que7"></a><a href="part0019.xhtml#ch5que7">7</a>.</strong>&#160;&#160;&#160;<img src="../Images/image01128.jpeg" width="16" height="16" alt="Images"/>&#160;&#160;&#160;<strong>A.</strong> If the manufacturer states that the hardware should support hardware-assisted virtualization and the option is unavailable in the BIOS, the most likely cause is that the BIOS needs a firmware update to add the additional feature.</p>
<p class="quep"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span><img src="../Images/image01129.jpeg" width="16" height="16" alt="Images"/>&#160;&#160;&#160;<strong>B, C,</strong> and <strong>D</strong> are incorrect. While there could be additional reasons that the feature is not available in the BIOS, the first thing to consider would be to update the BIOS firmware.</p>
<p class="que-q"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;</span><strong><a id="ich5que8"></a><a href="part0019.xhtml#ch5que8">8</a>.</strong>&#160;&#160;&#160;<img src="../Images/image01128.jpeg" width="16" height="16" alt="Images"/>&#160;&#160;&#160;<strong>D.</strong> You are better off spending money on more cores with more cache rather than on faster CPU speed. When it comes to virtualization, you want as many CPU cores as possible to assign to the virtual machine.</p>
<p class="quep"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span><img src="../Images/image01129.jpeg" width="16" height="16" alt="Images"/>&#160;&#160;&#160;<strong>A, B,</strong> and <strong>C</strong> are incorrect. While CPU speed is important, CPU cores and cache are more important. When determining where to spend the extra budget, you want to spend it on cores and cache over speed.</p>
<p class="que-q"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;</span><strong><a id="ich5que9"></a><a href="part0019.xhtml#ch5que9">9</a>.</strong>&#160;&#160;&#160;<img src="../Images/image01128.jpeg" width="16" height="16" alt="Images"/>&#160;&#160;&#160;<strong>B.</strong> When you are planning for and determining the compute resources for a host computer, you need to make sure there are enough resources to handle the virtual machine workload that the host computer is expected to support.</p>
<p class="quep"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span><img src="../Images/image01129.jpeg" width="16" height="16" alt="Images"/>&#160;&#160;&#160;<strong>A, C,</strong> and <strong>D</strong> are incorrect. The most important thing for planning compute resources on a host computer is to have enough resources to cover the virtual machine load.<span id="page_162" epub:type="pagebreak"></span><span id="page_163" epub:type="pagebreak"></span></p>
<h4 class="h4">Virtual Machine</h4>
<p class="que-q1"><strong><a id="ich5que10"></a><a href="part0019.xhtml#ch5que10">10</a>.</strong>&#160;&#160;&#160;<img src="../Images/image01128.jpeg" width="16" height="16" alt="Images"/>&#160;&#160;&#160;<strong>B.</strong> A virtual network interface card does not have any physical components; it is a software component made up of software drivers that mimics a physical NIC and appears as an Ethernet adapter on a virtual machine.</p>
<p class="quep"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span><img src="../Images/image01129.jpeg" width="16" height="16" alt="Images"/>&#160;&#160;&#160;<strong>A, C,</strong> and <strong>D</strong> are incorrect. None of these options would be shown as an Ethernet adapter on a virtual machine when they are added to a virtual machine.</p>
<p class="que-q1"><strong><a id="ich5que11"></a><a href="part0019.xhtml#ch5que11">11</a>.</strong>&#160;&#160;&#160;<img src="../Images/image01128.jpeg" width="16" height="16" alt="Images"/>&#160;&#160;&#160;<strong>B.</strong> Guest tools are software additions that are added to a virtual machine after the operating system has been installed. Among other things, the guest tools allow a virtual machine to synchronize its time with a host computer.</p>
<p class="quep"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span><img src="../Images/image01129.jpeg" width="16" height="16" alt="Images"/>&#160;&#160;&#160;<strong>A, C,</strong> and <strong>D</strong> are incorrect. The guest tools allow the virtual machine to use the host computer as a time source. Without the guest tools, the virtual machine might not have the correct time.</p>
<p class="que-q1"><strong><a id="ich5que12"></a><a href="part0019.xhtml#ch5que12">12</a>.</strong>&#160;&#160;&#160;<img src="../Images/image01128.jpeg" width="16" height="16" alt="Images"/>&#160;&#160;&#160;<strong>D.</strong> Storage virtualization consolidates multiple storage devices into a single unit and simplifies the administration of common storage tasks.</p>
<p class="quep"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span><img src="../Images/image01129.jpeg" width="16" height="16" alt="Images"/>&#160;&#160;&#160;<strong>A, B,</strong> and <strong>C</strong> are incorrect. A virtual switch, virtual HBA, and vNIC can all be used to access shared storage over the network, but they would not be used to create shared storage.</p>
<p class="que-q1"><strong><a id="ich5que13"></a><a href="part0019.xhtml#ch5que13">13</a>.</strong>&#160;&#160;&#160;<img src="../Images/image01128.jpeg" width="16" height="16" alt="Images"/>&#160;&#160;&#160;<strong>D.</strong> Dynamic memory allows you to assign a minimum and maximum amount of memory to a virtual machine. This allows a virtual machine to consume memory dynamically based on its current workload.</p>
<p class="quep"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span><img src="../Images/image01129.jpeg" width="16" height="16" alt="Images"/>&#160;&#160;&#160;<strong>A, B,</strong> and <strong>C</strong> are incorrect. The other memory options in the question do not allow the virtual machine to increase its memory as needed since they are statically assigned.</p>
<p class="que-q1"><strong><a id="ich5que14"></a><a href="part0019.xhtml#ch5que14">14</a>.</strong>&#160;&#160;&#160;<img src="../Images/image01128.jpeg" width="16" height="16" alt="Images"/>&#160;&#160;&#160;<strong>D.</strong> The vSwitch is responsible for how the network traffic flows between virtual machines and the host and between virtual machines and other network devices.</p>
<p class="quep"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span><img src="../Images/image01129.jpeg" width="16" height="16" alt="Images"/>&#160;&#160;&#160;<strong>A, B,</strong> and <strong>C</strong> are incorrect. A vNIC allows you to connect to a vSwitch. A virtual HBA would allow you to connect to a storage device. Virtual storage does not allow you to control how the virtual machine connects with the network.</p>
<h4 class="h4">Virtualized Infrastructure Service Elements</h4>
<p class="que-q1"><strong><a id="ich5que15"></a><a href="part0019.xhtml#ch5que15">15</a>.</strong>&#160;&#160;&#160;<img src="../Images/image01128.jpeg" width="16" height="16" alt="Images"/>&#160;&#160;&#160;<strong>A.</strong> DHCP reservations use the system&#8217;s MAC address to set aside an IP address for that machine.</p>
<p class="quep"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span><img src="../Images/image01129.jpeg" width="16" height="16" alt="Images"/>&#160;&#160;&#160;<strong>B, C</strong>, and <strong>D</strong> are incorrect. The default gateway is a configuration option for the DHCP server but is not used to configure DHCP reservations. The server name is not unique enough to use for DHCP reservations because a server may have multiple network interface cards. A host record is a DNS mapping of name to IP address and is not used for DHCP reservations.</p>
<p class="que-q1"><strong><a id="ich5que16"></a><a href="part0019.xhtml#ch5que16">16</a>.</strong>&#160;&#160;&#160;<img src="../Images/image01128.jpeg" width="16" height="16" alt="Images"/>&#160;&#160;&#160;<strong>C.</strong> References are used in the real world to validate a person. However, computers do not accept references as a method of authentication. The other items are all forms of multifactor authentication.</p>
<p class="quep"><span class="none" data-AmznRemoved-M8="true">&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span><img src="../Images/image01129.jpeg" width="16" height="16" alt="Images"/>&#160;&#160;&#160;<strong>A, B,</strong> and <strong>D</strong> are incorrect. Each of these is a form of multifactor authentication. A fingerprint is something you are, and the token and proximity card are both things you have. The third main type of multifactor authentication is something you know, which is usually the username and password.</p>
</section>
</body></html>